{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to SI Project Docs","text":"<p>This site is going to document all of the work that Lesotho's Ministry of Health has done on both DHIS2 and eRegister</p> <p>For more information, please see the contacts tab.</p>"},{"location":"contacts/","title":"Contact Information","text":"<p>For more information, please contact below:</p>"},{"location":"covid/About-Us/","title":"About Us","text":""},{"location":"covid/About-Us/#this-is-an-about-page","title":"This is an About Page","text":"<p>...information loading....New Version</p>"},{"location":"covid/Alerts/","title":"Alerts","text":"<p>........content coming soon......</p>"},{"location":"covid/Capturing-Weekly-Aggregate-Data/","title":"Capturing Weekly Aggregate Data","text":"<p>........content coming soon......</p>"},{"location":"covid/How-To-Prepare-Docker-Training-Instance/","title":"How To Prepare Docker Training Instance","text":"<p>Note</p> <p>we chose Docker over other many ways of installing DHIS2 because in a few minutes you can have your instance up and running</p>"},{"location":"covid/How-To-Prepare-Docker-Training-Instance/#installing-docker-on-the-host-server","title":"Installing Docker on the host server","text":"<p>Please refer to this link for installing Docker</p>"},{"location":"covid/How-To-Prepare-Docker-Training-Instance/#installling-docker-compose","title":"Installling Docker Compose","text":"<ul> <li>To install Docker Compose, please refer to the official Docker Compose site here</li> <li>To prepare the training instance, we used two images:<ul> <li><code>dhis2 core 2.33</code></li> <li><code>dmillon/postgis</code> (recommended because it already has postgis which DHIS2 depends on to render maps)</li> </ul> </li> </ul>"},{"location":"covid/How-To-Prepare-Docker-Training-Instance/#downloading-the-images","title":"Downloading the images","text":"<pre><code>```\npaste contents of docker-compose.yml\n\n```\n</code></pre> <p>you can change to whichever image you want to use. But please remember to drop SQL views before creating your dump</p> <p>You can go ahead and read this to prepare your instance. Within a few minutes you should by now have your DHIS2 instance running.</p> <p>Warning</p> <p>use <code>postgres</code> as your user for the db. It poses security threats (yes) but it's easier to deal with PostgreSQL with that setup. Unless ofcourse you're a PostgreSQL ninja.</p>"},{"location":"covid/How-To-Prepare-Docker-Training-Instance/#restoring-postgres-database","title":"Restoring Postgres Database","text":"<p>As you saw from the previous step, your instance is running two containers with networking between them handled by Docker Compose. If you have a live connection to Postgres database, you can't drop and restore your db. </p> <ul> <li>Do <code>docker ps</code> to see all of the running containers. <code>docker-compose ps</code> also works fine. <ul> <li>it's important to do this step first because docker-compose is going to name according to how you named the folder containing the docker-compose.yml as well as how you labeled them inside the file</li> </ul> </li> <li>To do that, you have to kill the frontend DHIS2 container then restore the DB with <code>docker container kill &lt;name_of_dhis_container&gt;</code></li> <li>Copy DB backup file into Postgres container with <code>docker cp dhis_db_backup.sql &lt;name_of_postgres_container&gt;:/</code></li> <li>Get into the container with <code>docker exec -it &lt;name_of_postgres_container&gt; bash</code></li> <li>Switch account from <code>root</code> to <code>postgres</code> with <code>su postgres</code> and then launch the PostgreSQL interactive terminal with <code>psql</code></li> <li><code>\\l</code> to list all of the databases</li> <li><code>drop database dhis2;</code> to delete the database</li> <li><code>create database dhis2</code> to recreate the database. But now it's empty</li> <li><code>\\q</code> to the interactive terminal</li> <li><code>psql --username=postgres --dbname=dhis2 &lt; dhis_db_backup.sql</code> to restore all of data into the empty database. if the command ran succefully, you should see a trail of verbosely listed SQL commands processed</li> <li>Then the trail is done, do <code>exit</code> to exit the container</li> <li>Finally, start the container that we \"killed\" with <code>docker container start &lt;name_of_dhis_container&gt;</code></li> </ul>"},{"location":"covid/Indicators/","title":"Indicators","text":"<p>........content coming soon......</p>"},{"location":"covid/Overview/","title":"Overview","text":""},{"location":"covid/Overview/#welcome-to-the-covid19-surviellance-tool-technical-guide","title":"Welcome to the COVID19 Surviellance Tool Technical Guide","text":""},{"location":"covid/Overview/#overview","title":"Overview","text":"<p>The COVID19 Surveillance system can be found here: http://hmis.gov.ls/covid19</p> <p>This system is built off of DHIS2's Tracker Module. All of the broader user manuals can be found here:</p>"},{"location":"covid/Overview/#table-of-contents","title":"Table of Contents","text":"<p>In addition to that, we have developed guidelines specific to our context and usecases. The document structure looks like this:</p> <pre><code>COVID-19\n\u2514\u2500\u2500 Overview\n\u2514\u2500\u2500 Data Entry Guidelines\n      \u251c\u2500\u2500 Registering a Case or Suspect\n      \u251c\u2500\u2500 Capturing Weekly Aggregate Data\n      \u2514\u2500\u2500 Using Mobile Devices\n\u2514\u2500\u2500 Technical\n      \u251c\u2500\u2500 Alerts Dataset\n      \u251c\u2500\u2500 Program Indicators\n      \u251c\u2500\u2500 Indicators\n      \u251c\u2500\u2500 Program Rules\n      \u2514\u2500\u2500 How to Prepare Docker Training Instance\n</code></pre>"},{"location":"covid/Overview/#training-instance","title":"Training Instance","text":"<p>We have also have a training instance which we try by all means to make it an up-to-date replica of the live system. It can be found here: http://197.155.193.109:1010/</p>"},{"location":"covid/Program-Indicators/","title":"Program Indicators","text":"<p>........content coming soon......</p>"},{"location":"covid/Program_Rules/","title":"Program Rules","text":"<p>........content coming soon......</p>"},{"location":"covid/Registering-a-Case-or-Suspect/","title":"Registering a Case or Suspect","text":"<p>content loading....</p>"},{"location":"covid/Using-Mobile-Devices/","title":"Using Mobile Devices","text":"<p>content loading....</p>"},{"location":"covid/Using-Mobile/","title":"Using Mobile","text":"<p>content loading....</p>"},{"location":"covid/Using-Web-Aggregate/","title":"Using Web Aggregate","text":"<p>........content coming soon......</p>"},{"location":"covid/Validation-Rules/","title":"Validation Rules","text":"<p>........content coming soon......</p>"},{"location":"covid/registering-a-case-mobile/","title":"Registering a case mobile","text":""},{"location":"covid/registering-a-case-mobile/#user-guide","title":"User Guide","text":"<p>........content coming soon......</p>"},{"location":"covid/registering-a-case-mobile/#trainer-guide","title":"Trainer Guide","text":"<p>........content coming soon......</p>"},{"location":"covid/using-web/","title":"Using web","text":""},{"location":"covid/using-web/#user-guide","title":"User Guide","text":"<p>........content coming soon......</p>"},{"location":"covid/using-web/#trainer-guide","title":"Trainer Guide","text":"<p>........content coming soon......</p>"},{"location":"dhis2/hiv-care-n-tx/","title":"HIV Care and Treatment","text":"<p>....info on HIV Care and Treatment</p>"},{"location":"dhis2/hts/","title":"HTS","text":"<p>....info on HTS</p>"},{"location":"dhis2/installation/","title":"DHIS2 Installation","text":"<p>....info loading.....</p>"},{"location":"dhis2/intro/","title":"Intro","text":""},{"location":"dhis2/intro/#dhis2-info","title":"DHIS2 Info","text":"<p>.....info on the National Data Warehouse</p>"},{"location":"dhis2/tb-indicators/","title":"Tb indicators","text":""},{"location":"dhis2/tb-indicators/#tb-program-indicators","title":"TB Program Indicators","text":""},{"location":"dhis2/tb-indicators/#the-following-is-list-of-associated-indicators-that-were-created","title":"The following is list of associated indicators that were created:","text":"<ul> <li>TB Notification All (INDTB-2018_1)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Sum of everything in block 1, excluding Bacteriologically Confirmed not Started on Treatment Sum of everything in Block 1 Sum of everything in Block 1 (leave out subtotals) Denominator 1 1 1 <ul> <li>TB Notification New and Relapse (INDTB-2018_2)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Sum of everything in block 1, excluding Bacteriologically Confirmed not Started on Treatment, and also exclude Retreatment excluding Relapse Sum of everything in Block 1, excluding Treatment After loss to Follow-up, Treatment after Failure and Other Previously Treated Sum of everything in Block 1 uner New (Pulmonary) (leave out subtotals) and Relapse (previously treated) Denominator 1 1 1 <ul> <li>TB Notification New and Relapse Pulmonary Bacteriologically confirmed (INDTB-2018_3)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator sum of Pulmonary Bacteriologically Confirmed (row New and  row Relapse) sum of  row Pulmonary, Bacteriologically confirmed (row New and row Relapse) Sum of row Sputum Smear microscopy positive ( row New and row Relapse) Denominator 1 1 1 <ul> <li>Bacteriologically Confirmed not initiated on treatment (INDTB-2018_4)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Sum of everything in column Bacteriologically confirmed not Started on Treatment N/A N/A Denominator 1 N/A N/A <ul> <li>Proportion of TB patients with a documented HIV status All (INDTB-2018_5)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column Documented HIV Status (male &amp; female), row New &amp; Relapse and row Retreatment excl Relapse Block 4: sum of column No. HIV Tested and row New Pulmonary, row Other New and row Retreatments Block \u201cTB/HIV Activities\u201d: sum of column No. Tested for HIV (both male and female, both rows) Denominator Sum everything in Block 1 excluding Bacteriologically confirmed not started on treatment sum everything in Block 1 sum everything in Block 1 (leave out sub totals) <ul> <li>Proportion of TB patients with a documented HIV status New and Relapse (INDTB-2018_6)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column Documented HIV Status (male &amp; female), row New &amp; Relapse N/A N/A Denominator Sum everything in Block 1 excluding Bacteriologically confirmed not started on treatment N/A N/A <ul> <li>TB/HIV Co-infection Rate All (INDTB-2018_7)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Sum of column HIV Positive (both male and female), row New and Relapse, and row Retreatment excl Relapse Sum of column \"No. HIV Positive\" - row New Pulmonary, row Other New, row Retreatments Sum of column No. HIV Positive - row New sputum smear, Other TB Denominator sum of column Documented HIV Status (both male and female), row New and Relapse and row Retreatment excl Relapse Sum of column No. HIV Tested - row New Pulmonary, row Other New, row Retreatments Sum of column Tested for HIV - row New sputum smear, Other TB <ul> <li>TB/HIV co-infected rate New and Relapse (INDTB-2018_8)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Sum of column HIV Positive (both male and female), row New and Relapse N/A N/A Denominator sum of column Documented HIV Status (both male and female), row New and Relapse N/A N/A <ul> <li>Proportion of HIV positive TB patients on ART All (INDTB-2018_9)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column HIV Positive on ART, row New and Relapse and row Retreatment excl. Relapse Block 4: sum of column No. HIV Positive on ART, row New Pulmonary, row Other New, row Retreatments Block TB/HIV Activities: sum of column No. on ART, row New Sputum Smear, row Other TB Denominator Block: sum of column HIV Positive, column New and Relapse and row Retreatment excl. Relapse Block 4: sum of column No. HIV Positive, row New Pulmonary, row Other New, row Retreatments Block TB/HIV Activities: sum of column No. HIV Positive, row New Sputum Smear, row Other TB <ul> <li>Proportion of HIV positive TB patients on ART New and Relapse (INDTB-2018_10)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column HIV Positive on ART, row New and Relapse N/A N/A Denominator Block: sum of column HIV Positive, column New and Relapse N/A N/A <ul> <li>Proportion of HIV positive TB patients on CPT/Dapzone All (INDTB-2018_11)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column HIV Positive on CPT/Dapzone, row New and Relapse and row Retreatment excl. Relapse Block 4: sum of column No. HIV Positive On CPT, row New Pulmonary, row Other New, row Retreatments Block TB/HIV Activities: sum of column No. on CPT, row New Sputum Smear, row Other TB Denominator Block 5: sum of column HIV Positive, column New and Relapse and row Retreatment excl. Relapse Block 4: sum of column No. HIV Positive, row New Pulmonary, row Other New, row Retreatments Block TB/HIV Activities: sum of column No. HIV Positive, row New Sputum Smear, row Other TB <ul> <li>Proportion of HIV positive TB patients on CPT/Dapzone New and Relapse (INDTB-2018_12)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 5: sum of column HIV Positive on CPT/Dapzone, column New and Relapse N/A N/A Denominator Block 5: sum of column HIV Positive, column New and Relapse N/A N/A <ul> <li>TB Treatment Success Rate All</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator foo foo foo Denominator foo foo foo <ul> <li>TB Treatment Success Rate New and Relapse</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator foo foo foo Denominator foo foo foo <ul> <li>TB Death Rate All (INDTB-2018_13)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Died, row New and Relapse, row Treatment excl Relapse Block 1: sum of column Died, all rows Block 1: sum of column died, all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse, row Treatment excl Relapse Block 1: sum of column No of Cases Registered, all rows Block 1: sum of column Total number of cases registered <ul> <li>TB Death Rate New and Relapse (INDTB-2018_14)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Died, row New and Relapse Block 1: sum of column Died, all rows Block 1: sum of column Died, all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse Block 1: sum of column No of Cases Registered, row New Pulmonary (B+), row Relapse B(+), row Extra pulmonary B(+), row New Pulmonary CD, row Relapse CD, row Retreatment (Excluding Relapse)-CD Block 1: sum of column Total number of cases registered, row New, row 2.1 Relapses <ul> <li>TB Lost to Followup Rate All (INDTB-2018_15)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Lost to Follow-up, row New and Relapse, row Treatment excl Relapse Block 1: sum of column Defaulted/LTFU, all rows Block 1: sum of column Default(5), all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse, row Treatment excl Relapse Block 1: sum of column No of Cases Registered, all rows Block 1: sum of column Total number of cases registered <ul> <li>TB Lost to Followup Rate New and Relapse (INDTB-2018_16)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Lost to Follow-up, row New and Relapse Block 1: sum of column Defaulted/LTFU, all rows Block 1: sum of column Default(5), all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse Block 1: sum of column No of Cases Registered, row New Pulmonary (B+), row Relapse B(+), row Extra pulmonary B(+), row New Pulmonary CD, row Relapse CD, row Retreatment (Excluding Relapse)-CD Block 1: sum of column Total number of cases registered, row New, row 2.1 Relapses <ul> <li>TB Not Evaluated Rate All (INDTB-2018_17)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Not Evaluated, row New and Relapse, row Treatment excl Relapse Block 1: sum of column Not Evaluated, all rows Block 1: sum of column Transfer Out(6),  column Total Number NOT Evaluated for outcomes, all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse, row Treatment excl Relapse Block 1: sum of column No of Cases Registered, all rows Block 1: sum of column Total number of cases registered <ul> <li>TB Not Evaluated Rate New and Relapse (INDTB-2018_18)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Not Evaluated, row New and Relapse Block 1: sum of column Not Evaluated, all rows Block 1: sum of column Transfer Out(6), column Total Number NOT Evaluated for outcomes, all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse Block 1: sum of column No of Cases Registered, row New Pulmonary (B+), row Relapse B(+), row Extra pulmonary B(+), row New Pulmonary CD, row Relapse CD, row Retreatment (Excluding Relapse)-CD Block 1: sum of column Total number of cases registered, row New, row 2.1 Relapses <ul> <li>TB Failure Rate All (INDTB-2018_19)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Failed (Susceptible), row New and Relapse, row Treatment excl Relapse Block 1: sum of column Failure, all rows Block 1: sum of column Treatment Failure(4), all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse, row Treatment excl Relapse Block 1: sum of column No of Cases Registered, all rows Block 1: sum of column Total number of cases registered <ul> <li>TB Failure Rate New and Relapse (INDTB-2018_20)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Failed (Susceptible), row New and Relapse Block 1: sum of column Failure, all rows Block 1: sum of column Treatment Failure(4), all rows Denominator Block 1: sum of column Total number of patients, row New and Relapse Block 1: sum of column Failure, row New Pulmonary (B+), row Relapse B(+), row Extra pulmonary B(+), row New Pulmonary CD, row Relapse CD, row Retreatment (Excluding Relapse)-CD Block 1: sum of column Total number of cases registered, row New, row 2.1 Relapses <ul> <li>TB Treatment Success Rate Among HIV Positive All (INDTB-2018_21)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Completed, column Cured, row All HIV positive Block 3: sum of column Completed, column Cured, row HIV positive all types Last block: sum of column Cure(1), column Treatment Completed (2), all rows Denominator Block 1: sum of column Total number of patients, row All HIV positive Block 3: sum of column Total number registered, row HIV positive all types Last block: sum of column Total Number of Patients registered , all rows <ul> <li>TB Death Rate Among HIV Positive All (INDTB-2018_22)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Died, row All HIV positive Block 3: sum of column Died, row HIV positive all types Last block: sum of column Died(3), all rows Denominator Block 1: sum of column Total number of patients, row All HIV positive Block 3: sum of column Total number registered, row HIV positive all types Last block: sum of column Total Number of Patients registered , all rows <ul> <li>TB Lost to Followup Rate Among HIV Positive All (INDTB-2018_23)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Lost to Follow-up, row All HIV positive Block 3: sum of column Defaulted/LTFU, row HIV positive all types Last block: sum of column Default(5), all rows Denominator Block 1: sum of column Total number of patients, row All HIV positive Block 3: sum of column Total number registered, row HIV positive all types Last block: sum of column Total Number of Patients registered , all rows <ul> <li>TB Not Evaluated Rate Among HIV Positive All (INDTB-2018_24)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Lost to Follow-up, row All HIV positive Block 3: sum of column Defaulted/LTFU, row HIV positive all types Last block: sum of column Transfer Out(6), column Total Number NOT Evaluated for outcomes, all rows Denominator Block 1: sum of column Total number of patients, row All HIV positive Block 3: sum of column Total number registered, row HIV positive all types Last block: sum of column Total Number of Patients registered , all rows <ul> <li>TB Failure Rate Among HIV Positive All (INDTB-2018_25)</li> </ul> Dataset TB Notification 2018 TB_Notification_New TB Case Registration Old Numerator Block 1: sum of column Failed (Susceptible), row All HIV positive Block 3: sum of column Failure, row HIV positive all types Last block: sum of column Treatment failure(4), all rows Denominator Block 1: sum of column Total number of patients, row All HIV positive Block 3: sum of column Total number registered, row HIV positive all types Last block: sum of column Total Number of Patients registered , all rows <ul> <li>TB Proportion of Presumptive cases examined using a bacteriologic test (INDTB-2018_26)</li> </ul> Dataset TB Case Detection 2018 Presumptive TB Cases Numerator Block 1: Column c), row Total Block 1: Column c) Denominator Block 1: Column b), row Total Block 1: Column b) <ul> <li>TB Positivity Yield (INDTB-2018_27)</li> </ul> Dataset TB Case Detection 2018 Presumptive TB Cases Numerator Block 1: Column d), row Total Block 1: Column d) Denominator Block 1: Column c), row Total Block 1: Column c) <ul> <li>Proportion of contacts of PTB cases screened for TB (INDTB-2018_28)</li> </ul> Dataset TB Case Detection 2018 Presumptive TB Cases Numerator Block 2: column Number of contacts of PTB cases who are presumptive TB cases N/A \u201cbecause there are no contacts\u201d Denominator Block 2: column Total number of contacts of PTB cases N/A \u201cbecause there are no contacts\u201d <ul> <li>Proportion of Under 5 childhood contacts screened for TB (INDTB-2018_29)</li> </ul> Dataset TB Case Detection 2018 Presumptive TB Cases Numerator Block 3: column Number of contacts &lt;5 years screened for TB N/A Denominator Block 3: column Number of childhood contacts &lt;5 years N/A <ul> <li>Proportion of Under 5 Childhood contacts without signs and symptoms of TB put on INH prophylaxis</li> </ul> Dataset TB Case Detection 2018 Presumptive TB Cases Numerator Block 3: column Number of contacts &lt;5 years started on INH after ruling out signs and symptoms of TB N/A Denominator Block 3: column Number of contacts &lt;5 years who are not presumptive TB cases N/A <ul> <li>Proportion of Under 5 Childhood contacts started on INH six months ago who completed their INH course (INDTB-2018_31)</li> </ul> Dataset TB Notification 2018 TB_Notification_New Numerator Block 4: column Number of contacts &lt;5 years started on INH who completed their IPT course N/A Denominator Block 3: column Number of contacts &lt;5 years started on INH N/A <ul> <li>TB Treatment Success Rate New &amp; Relapse (INDTB-2018_32)</li> </ul> Dataset TB Treatment Outcomes 2018 TB Treatment Outcomes New TB Treatment Outcomes Old Numerator Block 1: Sum of column Completed, column Cured - row New &amp; Relapse Block 1: Block 1: Sum column Cured, Completed - rows  New  Pulmonary (B+) , Extra pulmonary B(+), New Pulmonary CD,  New Extra pulmonary CD, Relapse B(+) and Relapse CD Block 1: Block 1 sum of column cured and completed of row New (1.1 Smear positive, 1.2 Smear Neg and not done and 1.4 EP) and 2.1 Relapse Denominator Block 1: Sum column Total number of patients of row New and Relapse Block 1 Sum column Total No. of Patients registered of row New  Pulmonary (B+) , Extra pulmonary B(+), New Pulmonary CD,  New Extra pulmonary CD, Relapse B(+) and Relapse CD Block 1 Sum column Total No. of Patients registered during Quarter Reported on row New (1.1 Smear positive, 1.2 Smear Neg and not done and 1.4 EP) and 2.1 Relapse <ul> <li>TB Treatment Success All (INDTB-2018_33)</li> </ul> Dataset TB Treatment Outcomes 2018 TB Treatment Outcomes New TB Treatment Outcomes Old Numerator Block 1 Sum of columns completed and cured of row New and Relapse and Retreatment excluding relapse Block 1 Sum of columns completed and cured of row New Pulmonary B+, Relapse B+, Extra pulmonary B+, Retreatment(excluding relapse) B+, New pulmonary CD, Retreatment(excluding relapse) CD  and New extra pulmonary CD Block 1 sum of column cured and completed of row 1.New, 2.Retreatment (smear positive) and 3.Other previously treated Denominator Block 1 sum column total number of patients of row New and Relapse and Retreatment excluding relapses Block 1 Sum column No of cases registered  of row New Pulmonary B+, Relapse B+, Extra pulmonary B+, Retreatment(excluding relapse) B+, New pulmonary CD, Retreatment(excluding relapse) CD  and New extra pulmonary CD Block 1 Sum column Total No. of Patients registered during Quarter Reported on row New, Retreatment (smear positive) and Other previously treated"},{"location":"dhis2/tb-validation-rules/","title":"Tb validation rules","text":""},{"location":"dhis2/tb-validation-rules/#tb-program-validation-rules","title":"TB Program Validation Rules","text":""},{"location":"dhis2/tb-validation-rules/#to-ensure-optimal-quality-of-data-the-following-validation-rules-were-setup-we-have-named-them-according-to-which-dataset-they-apply","title":"To ensure optimal quality of data, the following validation rules were setup. We have named them according to which dataset they apply","text":"<ul> <li>Unsorted list of all validation rules. We'll later sort the according to which datasets they're meant to apply to. This is meant for you to deal better with these validation rules when they pop out.</li> </ul> Dataset Validation Rules foo TB-2018_1 Total number of NEW patients tested for Rifampicin susceptibility  should be greater than or equal to Number of patients tested for rifampicin susceptibility foo TB-2018_2 Total PREVIOUSLY TREATED DR-TB Patients should be greater than or equal to Number of PREVIOUSLY TREATED patients tested for rifampicin susceptibility who are laboratory confirmed RR-TB foo TB-2018_3 Total NEW DR-TB Patients should be greater than or equal to number of NEW patients tested for rifampicin susceptibility who are laboratory confirmed MDR-TB foo TB-2018_4 Total Previously Treated DR-TB Patients should be greater or equal to Number of patients tested for rifampicin susceptibility who are laboratory confirmed MDR-TB foo TB-2018_5 Total NEW DR-TB Patients should be greater than or equal to Number of laboratory confirmed RR-TB or MDT patients started on second-line treatment foo TB-2018_6 Total Previously Treated DR-TB Patients should be greater then or equal to Number of laboratory confirmed RR-TB or MDT patients started on second-line treatment foo TB-2018_7 Xpert MTB/RIF + LPA + Phenotypic DST (Block 2) should be less than or equal to Total New patients + Total Previously treated (Block 1) foo TB-2018_8 Total number of patients resistant to Isoniazid should be less than or equal to Total number of PTB bacteriologically confirmed cases foo TB-2018_9 Total Number resistant to Rifampicin only should be less than or equal to Total number of PTB bacteriologically confirmed cases foo TB-2018_10 Total Number resistant to Rifampicin and Isoniazid should be less than or equal to Total number of PTB bacteriologically confirmed cases foo TB-2018_12 Total Number resistant to Rifampicin and Isoniazid should be less than or equal to Total of Number of patients tested for Rifampicin susceptibility who are laboratory confirmed MDR-TB foo TB-2018_13 Total of RR or MDR-TB (block 3) should be equal to Total row \"c\" plus total row \"d\" (Block 2) foo TB-2018_14 Total of RR or MDR-TB (Block 4) should be equal to Total of row \"c\" + row \"d\" (Block 2) foo TB-2018_15 Total number of clients screened for TB (column (a), row (total) - Block 1) should be greater than or equal to Clients with signs and symptoms (Column (b), row (total) - Block 1) foo TB-2018_15a [Total] Total TB Screening greater_than_or_equal_to TB Screening Total Clients with signs and symptoms foo TB-2018_16 Total Referred by CHW (column(a)) should be greater than or equal to Referred by CHW Clients with signs and symptoms (column (b)) foo TB-2018_16a [Referred by CHW] Total TB Screening greater_than_or_equal_to Referred by CHW Clients with signs and symptoms foo TB-2018_17 [Referred by CSO] Total TB Screening greater_than_or_equal_to Referred by SCO Clients with signs and symptoms foo TB-2018_18 [Children] Total TB Screening greater_than_or_equal_to Children (0-14 years) Patients with signs and symptoms who tested bacteriologically foo TB-2018_19 [Mine Workers] Total TB Screening greater_than_or_equal_to Mine Workers Clients with signs and symptoms foo TB-2018_20 [Ex-mine workers] Total TB Screening greater_than_or_equal_to Ex-Mine Workers Clients with signs and symptoms foo TB-2018_21 [HHCM] Total TB Screening greater_than_or_equal_to HHCM Clients with signs and symptoms foo TB-2018_22 [HHXM] Total TB Screening greater_than_or_equal_to HHXM Clients with signs and symptoms foo TB-2018_23 [Factory Workers] Total TB Screening greater_than_or_equal_to Factory Workers Clients with signs and symptoms foo TB-2018_24 [Correctional Staff] Total TB Screening greater_than_or_equal_to Correctional Staff or Inmate Clients with signs and symptom foo TB-2018_25 [Health Workers] Total TB Screening greater_than_or_equal_to Health Workers Clients with signs and symptoms foo TB-2018_26 [Public Transport Ops] Total TB Screening greater_than_or_equal_to Public Transport Operators Clients with signs and symptoms foo TB-2018_27 [Total] Total TB Screening greater_than_or_equal_to TB Screening Total Patients with signs and symptoms who tested bacteriologically foo TB-2018_28 [Referred by CHW] Total TB Screening greater_than_or_equal_to Referred by CHW Patients with signs and symptoms who tested bacteriologically foo TB-2018_29 [Referred by CSO] Total TB Screening greater_than_or_equal_to Referred by SCO Total number of diagnosed foo TB-2018_30 [Children] Total TB Screening greater_than_or_equal_to Children (0-14 years) Patients with signs and symptoms who tested bacteriologically foo TB-2018_31 [Mine Workers] Total TB Screening greater_than_or_equal_to Mine Workers Patients with signs and symptoms who tested bacteriologically foo TB-2018_32 [Ex-mine workers] Total TB Screening greater_than_or_equal_to Ex-Mine Workers Total number of diagnosed foo TB-2018_33 [HHCM] Total TB Screening greater_than_or_equal_to HHCM Patients with signs and symptoms who tested bacteriologically foo TB-2018_34 [HHXM] Total TB Screening greater_than_or_equal_to HHXM Patients with signs and symptoms who tested bacteriologically foo TB-2018_35 [Factory Workers] Total TB Screening greater_than_or_equal_to Factory Workers Total number of diagnosed foo TB-2018_37 [Health Workers] Total TB Screening greater_than_or_equal_to Health Workers Patients with signs and symptoms who tested bacteriologically foo TB-2018_38 [Public Transport Ops] Total TB Screening greater_than_or_equal_to Public Transport Operators Patients with signs and symptoms who tested bacteriologically foo TB-2018_39 TB Screening Total Total number of diagnosed greater_than_or_equal_to TB Screening Total Number started on ant-TB treatment foo TB-2018_40 Referred by CHW Total number of diagnosed greater_than_or_equal_to Referred by CHW Number started on ant-TB treatment foo TB-2018_41 Referred by SCO Total number of diagnosed greater_than_or_equal_to Referred by SCO Number started on ant-TB treatment foo TB-2018_42 Children (0-14 years) Total number of diagnosed greater_than_or_equal_to Children (0-14 years) Number started on ant-TB treatment foo TB-2018_43  Mine Workers Total number of diagnosed greater_than_or_equal_to Mine Workers Number started on ant-TB treatment foo TB-2018_44 Ex-Mine Workers Total number of diagnosed greater_than_or_equal_to Ex-Mine Workers Number started on ant-TB treatment foo TB-2018_45 HHCM Total number of diagnosed greater_than_or_equal_to HHCM Number started on ant-TB treatment foo TB-2018_46 HHXM Total number of diagnosed greater_than_or_equal_to HHXM Number started on ant-TB treatment foo TB-2018_47 Factory Workers Total number of diagnosed greater_than_or_equal_to Factory Workers Number started on ant-TB treatment foo TB-2018_48 Correctional Staff or Inmate Total number of diagnosed greater_than_or_equal_to Correctional Staff or Inmate Number started on ant-TB treatment foo TB-2018_49 Health Workers Total number of diagnosed greater_than_or_equal_to Health Workers Number started on ant-TB treatment foo TB-2018_50 Public Transport Operators Total number of diagnosed greater_than_or_equal_to Public Transport Operators Number started on ant-TB treatment foo TB-2018_51 TB Screening Total Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to TB Screening Total Total number of diagnosed foo TB-2018_52 Referred by CHW Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Referred by CHW Total number of diagnosed foo TB-2018_53 Referred by SCO Total number of diagnosed greater_than_or_equal_to Referred by SCO Total number of diagnosed foo TB-2018_54 Children (0-14 years) Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Children (0-14 years) Total number of diagnosed foo TB-2018_55 Mine Workers Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to  Mine Workers Total number of diagnosed foo TB-2018_56 Ex-Mine Workers Total number of diagnosed greater_than_or_equal_to Ex-Mine Workers Total number of diagnosed foo TB-2018_57 HHCM Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to HHCM Total number of diagnosed foo TB-2018_58 HHXM Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to HHXM Total number of diagnosed foo TB-2018_59 Factory Workers Total number of diagnosed greater_than_or_equal_to Factory Workers Total number of diagnosed foo TB-2018_60 Correctional Staff or Inmate Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Correctional Staff or Inmate Total number of diagnosed foo TB-2018_61 Health Workers Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Health Workers Total number of diagnosedm foo TB-2018_62 Public Transport Operators Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Public Transport Operators Total number of diagnosed foo TB-2018_63 TB Screening Total Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to TB Screening Total Number started on ant-TB treatment foo TB-2018_64 Referred by CHW Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Referred by CHW Number started on ant-TB treatment foo TB-2018_65 Referred by SCO Total number of diagnosed greater_than_or_equal_to Referred by SCO Number started on ant-TB treatment foo TB-2018_66 Children (0-14 years) Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Children (0-14 years) Number started on ant-TB treatment foo TB-2018_67 Mine Workers Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Mine Workers Number started on ant-TB treatment foo TB-2018_68 Ex-Mine Workers Total number of diagnosed greater_than_or_equal_to Ex-Mine Workers Number started on ant-TB treatment foo TB-2018_69 HHCM Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to HHCM Number started on ant-TB treatment foo TB-2018_70 HHXM Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to HHXM Number started on ant-TB treatment foo TB-2018_71 Factory Workers Total number of diagnosed greater_than_or_equal_to Factory Workers Number started on ant-TB treatment foo TB-2018_72 Correctional Staff or Inmate Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Correctional Staff or Inmate Number started on ant-TB treatment foo TB-2018_73 Health Workers Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Health Workers Number started on ant-TB treatment foo TB-2018_74 Public Transport Operators Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Public Transport Operators Number started on ant-TB treatment foo TB-2018_75 TB Screening Total Clients with signs and symptoms greater_than_or_equal_to TB Screening Total Patients with signs and symptoms who tested bacteriologically foo TB-2018_76 Referred by CHW Clients with signs and symptoms greater_than_or_equal_to Referred by CHW Patients with signs and symptoms who tested bacteriologically foo TB-2018_77 Referred by SCO Clients with signs and symptoms greater_than_or_equal_to Referred by SCO Total number of diagnosed foo TB-2018_78 Children (0-14 years) Patients with signs and symptoms who tested bacteriologically greater_than_or_equal_to Children (0-14 years) Patients with signs and symptoms who tested bacteriologically foo TB-2018_79 Mine Workers Clients with signs and symptoms  greater_than_or_equal_to Mine Workers Patients with signs and symptoms who tested bacteriologically foo TB-2018_80 Ex-Mine Workers Clients with signs and symptoms greater_than_or_equal_to Ex-Mine Workers Total number of diagnosed foo TB-2018_81 HHCM Clients with signs and symptoms  greater_than_or_equal_to HHCM Patients with signs and symptoms who tested bacteriologically foo TB-2018_82 HHXM Clients with signs and symptoms greater_than_or_equal_to HHXM Patients with signs and symptoms who tested bacteriologically foo TB-2018_83 Factory Workers Clients with signs and symptoms greater_than_or_equal_to Factory Workers Total number of diagnosed foo TB-2018_84 Correctional Staff or Inmate Clients with signs and symptom greater_than_or_equal_to Correctional Staff or Inmate Patients with signs and symptoms who tested bacteriologically foo TB-2018_85 Health Workers Clients with signs and symptoms greater_than_or_equal_to Health Workers Patients with signs and symptoms who tested bacteriologically foo TB-2018_86 Public Transport Operators Clients with signs and symptoms greater_than_or_equal_to Public Transport Operators Patients with signs and symptoms who tested bacteriologically foo TB-2018_87 TB Screening Total Number who died anti-TB treatment less_than_or_equal_to TB Screening Total Total number of diagnosed foo TB-2018_88 Referred by CHW Number who died anti-TB treatment less_than_or_equal_to Referred by CHW Total number of diagnosed foo TB-2018_89 Referred by SCO Number who died anti-TB treatment less_than_or_equal_to Referred by SCO Total number of diagnosed foo TB-2018_90 Children (0-14 years) Number who died anti-TB treatment less_than_or_equal_to Children (0-14 years) Total number of diagnosed foo TB-2018_91 Mine Workers Number who died anti-TB treatment less_than_or_equal_to  Mine Workers Total number of diagnosed foo TB-2018_92 Ex-Mine Workers Number who died anti-TB treatment less_than_or_equal_to Ex-Mine Workers Total number of diagnosed foo TB-2018_93 HHCM Number who died anti-TB treatment less_than_or_equal_to HHCM Total number of diagnosed foo TB-2018_94 HHXM Number who died anti-TB treatment less_than_or_equal_to HHXM Total number of diagnosed foo TB-2018_95 Factory Workers Number who died anti-TB treatment less_than_or_equal_to Factory Workers Total number of diagnosed foo TB-2018_96 Correctional Staff or Inmate Number who died anti-TB treatment less_than_or_equal_to Correctional Staff or Inmate Total number of diagnosed foo TB-2018_97 Health Workers Number who died anti-TB treatment less_than_or_equal_to Health Workers Total number of diagnosed foo TB-2018_98 Public Transport Operators Number who died anti-TB treatment less_than_or_equal_to Public Transport Operators Total number of diagnosed foo TB-2018_99 TB Screening Total Number who died anti-TB treatment less_than_or_equal_to TB Screening Total Number started on ant-TB treatment <p>please click on each validation rules to learn how to handle them</p>"},{"location":"dhis2/tb/","title":"TB","text":"<ul> <li>DR-TB 2018</li> <li>TB Case Detection 2018</li> <li>TB Treatment Outcomes 2018</li> <li>TB Notification 2018</li> </ul>"},{"location":"dhis2/usermanual/","title":"User Manual","text":"<p>This manual is inteded for non technical end users</p>"},{"location":"ereg/ART_Program/","title":"ART Program","text":"<p>Note</p> <ul> <li>Please click on the title to browse to a bigger more readable picture</li> </ul>"},{"location":"ereg/ART_Program/#1-dhis2-datasets-to-report-to","title":"1. DHIS2 Datasets to report to","text":"DHIS2 Dataset ART Notification 2020 ART Treatment Outcomes 2020 Presumptive ART Cases Report D.R ART Report Surveillance 2020 D.R ART ART (Hospital) Source Documents ART Register ART Register Tally Sheet, ART Presumptive Register ART Register ART Register Corresponding eRegister Tools ART Intake, ART Followup ART Intake, ART Followup ART Intake, ART Followup ART Intake, ART Followup ART Intake, ART Followup"},{"location":"ereg/ART_Program/#2-eregister-facility-level-patient-reports","title":"2. eRegister Facility Level Patient Reports","text":"<p>Note</p> <ul> <li>most of these reports are informed by PEPFAR MER Indicators and have been named to align with them</li> <li>you can explore these reports here: hiels.gov.ls/bahmni/reports/</li> </ul> <ul> <li>ART-001 | Current on ART Detailed (List) </li> <li>ART-002 | Current on ART Detailed (Pivot) </li> <li>ART-002A | ART Clients Seen and Initiated (List)</li> <li>ART-003 | Missed Appointments Status Report (List) </li> <li>ART-004 | Missed Appointments Status Report (Pivot)</li> <li>ART-005 | ART clients with Appointment Status-28 Days (List) </li> <li>ART-006 | ART clients with Appointment Status-28 Days (Pivot) </li> <li>ART-007 | Clients newly enrolled on ART </li> <li>ART-008 | Current on ART with regimens (List) </li> <li>ART-009 | Current on ART with regimens (List) </li> <li>ART-010 | Viral Load Results Status, within 3 months (List) </li> <li>ART-011 | Viral Load Results Status, within 3 months (Pivot) </li> <li>ART-012 | Current on ART with Modified ages (pivot) </li> <li>ART-013 | Substituted Clients (List) </li> <li>ART-014 | Substituted Clients (Pivot) </li> <li>ART-015 | Switched Clients (List) </li> <li>ART-016 | Switched Clients (Pivot) </li> <li>ART-017 | Registered ART Visits with ART Consultation (List) </li> <li>ART-018 | Registered ART Visits with ART Consultation (Pivot) </li> <li>ART-019 | Registered ART Clients with Intakes (List) </li> <li>ART-020 | Registered ART Clients with Intakes (Pivot)</li> </ul>"},{"location":"ereg/DeployingMappings/","title":"Mappings and Serialized Object Pipeline","text":"<p>Warning</p> <ul> <li>First start with your local instance before attempting to update the live server.</li> <li>When configuring the live server, please make sure that no one is using the system when doing Step  1 and 2 Removing and Creating New Container.</li> <li>Backup live server database before doing any of these steps.</li> <li>It has been noticed that some of the backup services have some technical issues and therefore you are advised to double check the file size after restarting the backup service before removing and stopping the container. The other option you can manually backup facility database by yourself.</li> </ul>"},{"location":"ereg/DeployingMappings/#our-automated-deployment-for-mappings-and-serialized-object-comprises-5-steps","title":"Our automated deployment for mappings and serialized object comprises 5 steps:","text":""},{"location":"ereg/DeployingMappings/#0-preparatory-steps","title":"0. Preparatory Steps","text":"<ul> <li>SSH into the server with <code>ssh openmrs@_SERVER_IP_ADDRESS</code></li> <li>First check to see if your server has internet connectivity with <code>ping github.com</code></li> <li>If not try to check contents of resolv.conf in /etc/ by running the following command: cat /etc/resolv.conf.Normally you should see google.com nameserver pointing to its ip 8.8.8.8.Edit the file if name server is not configured in the file.</li> <li> <p>Nameserver(all in lowercase) 8.8.8.8.Ping 8.8.8.8 or google.com.After you may ping github.com just to make sure you are able to get packets from github.com</p> </li> <li> <p>Then download all of the files need with <code>git clone https://github.com/eRegister/docs.git</code></p> </li> <li> <p>The command above will create a folder called <code>docs</code> in <code>/home/openmrs</code> if you didn't change to another directory. All of files that need to be transfered to the server are in docs/scripts/mappingsscripts:</p> <ul> <li><code>concepts_restore.sh</code></li> <li><code>gitpull_bahmniapps.sh</code></li> <li><code>gitpull_concepts.sh</code></li> <li><code>gitpull_mappings.sh</code></li> <li><code>gitpull_serial.sh</code></li> <li><code>gitpullbahmniapps.service</code></li> <li><code>gitpullconcepts.service</code></li> <li><code>gitpullmappings.service</code></li> <li><code>gitpullserializedobject.service</code></li> <li><code>serializedboject_restore.sh</code></li> </ul> </li> <li> <p>Go to <code>/development/</code> and create the following directories <code>openmrs_reporting_release</code> and <code>openmrs_concepts_release</code> and grant openmrs user permissions to own the files.</p> </li> <li> <p>Move the following files to  <code>/usr/local/bin/</code> and make them executable: <code>concept_restore.sh</code>,<code>serializedobject_restore</code>.</p> </li> <li>Move <code>gitpull_concepts.sh</code> to <code>/development/openmrs_concepts_release</code> and <code>gitpull_serial.sh</code> to <code>/development/openmrs_reporting_release/</code>, make them executable.</li> </ul> <p>Note</p> <p>Files are already on the server</p> <p>Caution</p> <p>PLEASE ENSURE THAT YOU HAVE BACKED UP THE DB BEFORE EXECUTING THE STEPS BELOW!!!</p>"},{"location":"ereg/DeployingMappings/#1-removing-current-container","title":"1. Removing Current Container","text":"<ul> <li>check the running container: <code>docker ps</code></li> <li>Stop the container: <code>docker stop openmrseregister</code></li> <li>Check that the container has stopped run <code>docker ps</code> and you should see an empty table</li> <li>Create a new image from the stopped container: <code>docker commit openmrseregister omrsregrepo/bahmni_base:09082020</code> [tag should be date at time of creating image]</li> <li>you can check the newly created image with <code>docker images</code></li> <li>Remove the container: <code>docker container rm openmrseregister</code></li> </ul>"},{"location":"ereg/DeployingMappings/#2-creating-a-volumes-and-enabling-services","title":"2. Creating a Volumes and enabling services","text":"<ul> <li>Now it's time to create a new container from the image we created earlier with: <code>docker run -e container_name=openmrseregister -it -d --restart always -p 443:443 -p 80:80 -p 8069:8069 -p 8000:8000 --privileged --name openmrseregister -v /development/bahmni_config_release:/development/bahmni_config_release -v /development/dhisconnector_mappings:/development/dhisconnector_mappings -v /development/bahmniapps_release:/development/bahmniapps_release omrsregrepo/bahmni_base:06082020 /bin/bash</code></li> <li>Go to <code>/development/</code> and grant openmrs user permissions to files in <code>/development/dhisconnector_mappings</code> and <code>/development/bahmniapps_release</code></li> <li>Move <code>gitpull_bahmniapps.sh</code> to <code>/development/bahmniapps_release</code> and <code>gitpull_mappings.sh</code> to <code>/development/dhisconnector_mappings</code>, make them executable.</li> <li> <p>Create local repo's in all directories in <code>/development</code> except <code>/development/bahmni_config_release</code>, with the following commands:      <code>git init</code> ,       <code>git remote</code> add       <code>git origin https://github.com:/eRegister/repo_name</code></p> </li> <li> <p>test that you are able to fetch files from remote repo's by <code>git fetch --all</code></p> </li> <li>move all services <code>gitpullmappings.service</code>,<code>gitpullconcepts.serivce</code>, <code>gitpullbahmniapps.service</code> and <code>gitpullserializedobject.service</code>.</li> <li> <p>Nagivate into /etc/system/system/ and type the following commands to enable <code>gitpull_mappings.service</code>, <code>gitpullconcepts.service</code>, <code>gitpullbahmniapps.service</code>,<code>gitpullserializedobject.service</code></p> <p><code>sudo chmod 664 service_name</code> <code>sudo systemctl daemon-reload</code> <code>sudo systemctl enable service_name</code></p> </li> </ul> <p>Note</p> <p>when the service has been registered successfully you should see created sym link in <code>/etc/systemd/system/default.target.wants/.</code></p>"},{"location":"ereg/DeployingMappings/#3-configuring-cronjob","title":"3. Configuring cronjob","text":"<ul> <li>configure the cronjob to trigger the services everyday 7 am if our servers universal time is at UTC.</li> <li>to edit the cronjob do: <code>sudo crontab -e</code> if it's first time running the this command it'll probably ask you to choose the default text editor, please be kind enough to choose Nano as it's the easiest editor for most administrators.</li> <li>configure the script as shown below and then when the updates have been pulled successfully change the script to trigger services at 7:05,7:10,7:15,7:25 respectively. Do not change the command that trigger serialized object script <code>*/3 * * * * systemctl restart gitpullmappings.service &gt;&gt; /var/log gitpull_mappings.log</code> <code>*/4 * * * * systemctl restart gitpullserializedobject.service &gt;&gt; /var/log/gitpull_serial.log</code> <code>*/5 * * * * systemctl restart gitpullconcepts.service &gt;&gt; /var/log/gitpull_concepts.log</code> <code>*/6 * * * * sudo bash /usr/local/bin/concepts_restore.sh &gt;&gt; /var/log/concept_restore.log</code> <code>20 7 * * * sudo bash /usr/local/bin/serializedobject_restore.sh &gt;&gt; /var/log/serial_restore.log</code></li> <li>Wait for a while for cron job to execute the commands and check  directories in development have updates from GitHub. For failed services refer to Automated Deployment Exit Codes to troubleshoot.</li> </ul>"},{"location":"ereg/DeployingMappings/#4-restore-database-and-create-soft-links","title":"4. Restore database and create soft links","text":"<ul> <li>Go to into a container and start mysql service.</li> <li>Connect to database server using no password <code>mysql -uroot -p</code></li> <li>Initialise openmrs database and users by sourcing openmsq.sql file in container root directory, <code>source openmrs.sql;</code></li> <li>Wait a moment for databases to be created and once the script is done quit or exit the database server and restart mysql.</li> <li>Restore facility database using the command <code>mysql -uroot -ppassword openmrs;</code></li> <li>Go to <code>/opt/openmrs/dhisconnector</code></li> <li>Remove mappings folder and create soft link to <code>/development/dhisconnector_mappings/dhisconnector_mappings/mappings</code> command: <code>sudo ln -s /development/dhisconnector_mappings/dhisconnector_mappings/mappings/ mappings</code> </li> <li>Exit the container and go to <code>/usr/local/bin</code> and run <code>serializedobject_restore.sh</code></li> <li>Restart other services and openmrs the broswer to access openmrs admin page.</li> <li>Go to reporting  you should see total of 36 openmrs period indicator reports. Refer to staging server to see example eRegister Staging server</li> </ul>"},{"location":"ereg/FAQs/","title":"FAQ's","text":"<p>.....info on loading...</p>"},{"location":"ereg/IntegrationDHIS2/","title":"Bahmni DHIS2 Integration","text":""},{"location":"ereg/IntegrationDHIS2/#installation","title":"Installation","text":"<p>Install git <code>$sudo yum update # update system packages</code> <code>$sudo yum install git</code></p> <p>Install maven  <code>$sudo yum install maven</code></p> <p>Install rpm-build <code>$sudo yum install rpm-build</code></p> <p>Clone the source code from the repository <code>$sudo git clone &lt;repository url link&gt;</code></p> <p>Build the plugin <code>$sudo mvn -Dmaven.test.skip=true install</code></p> <p>Install the plugin <code>$sudo yum install dhis-integration-1.0-1.noarch.rpm</code></p> <p>Configure the plugin - set application properties</p> <p>Navigate to the application\u2019s properties configuration file: <code>cd /etc/dhis-integration/dhis-integration.yml</code></p> <p>Configure the application as follows:</p>"},{"location":"ereg/IntegrationDHIS2/#testing","title":"Testing","text":"<p>Configure reports - create a concatenated report (in reports.json) for the program and associated query file e.g product_list.sql <code>$sudo yum autoremove dhis-integration</code></p>"},{"location":"ereg/IntegrationDHIS2/#uninstallation","title":"Uninstallation","text":"<p><code>$sudo yum autoremove dhis-integration</code></p>"},{"location":"ereg/TB_Program/","title":"TB Program","text":"<p>Note</p> <ul> <li>Please click on the title to browse to a bigger more readable picture</li> </ul>"},{"location":"ereg/TB_Program/#tb-patient-flow","title":"TB Patient Flow","text":"<p> <sub>Fig 1 - TB Patient Flow</sub></p>"},{"location":"ereg/TB_Program/#1-dhis2-datasets-to-report-to","title":"1. DHIS2 Datasets to report to","text":"DHIS2 Dataset TB Notification 2020 TB Treatment Outcomes 2020 Presumptive TB Cases Report D.R TB Report Surveillance 2020 D.R TB TB (Hospital) Source Documents TB Register TB Register Tally Sheet, TB Presumptive Register TB Register TB Register Corresponding eRegister Tools TB Intake, TB Followup TB Intake, TB Followup TB Intake, TB Followup TB Intake, TB Followup TB Intake, TB Followup"},{"location":"ereg/TB_Program/#2-eregister-facility-level-patient-reports","title":"2. eRegister Facility Level Patient Reports","text":"<p>Note</p> <ul> <li>most of these reports are informed by PEPFAR MER Indicators and have been named to align with them</li> <li>you can explore these reports here: hiels.gov.ls/bahmni/reports/</li> </ul> <ul> <li>TB-001 | TB Outcomes (List) </li> <li>TB-002 | TB Case Detection </li> <li>TB-003 | Documented TB/HIV Activities </li> <li>TB-004 | TB Testing Strategy</li> <li>TB-005 | TB Contact Tracing and Screening </li> <li>TB-006 | All TB Patients on Treatment </li> <li>TB-007 | New and Relapse Enrolled on TB </li> <li>TB-008 | TB Status (List) </li> <li>TB-009 | TB Status (Pivot) </li> <li>TB-010 | New and Relapse Enrolled on TB (List) </li> <li>TB-011 | DSD TB_ART (List) </li> <li>TB-012 | DSD TB_ART (PIVOT) </li> <li>TB-013 | TB Screening Among HIV Clients </li> <li>TB-014 | TB Prevention Therapy (List) </li> <li>TB-015 | TB Prevention Therapy (Pivot) </li> <li>TB-016 | TB SCREENING </li> <li>TB-017 | TB Intakes (List) </li> <li>TB-018 | TB Intakes (Pivot) </li> <li>TB-019 | TB Indicators (List) </li> <li>TB-020 | Registered TB Visits with TB Consultation (List)</li> </ul>"},{"location":"ereg/bahmniaddons/","title":"Core Addons &amp; Bahmni Addons Pipeline","text":"<p>Warning</p> <ul> <li>Content coming soon...</li> </ul>"},{"location":"ereg/bahmniapps/","title":"Bahmni Apps Pipeline","text":"<p>Warning</p> <ul> <li>Content coming soon...</li> </ul>"},{"location":"ereg/bahmniconfigs/","title":"Bahmni Configs Pipeline","text":"<p>Warning</p> <ul> <li>Please make sure that no one is using the system </li> <li>Backup your database before doing any of these steps.</li> </ul>"},{"location":"ereg/bahmniconfigs/#our-automated-deployment-comprises-5-steps","title":"Our automated deployment comprises 5 steps:","text":""},{"location":"ereg/bahmniconfigs/#0-preparatory-steps","title":"0. Preparatory Steps","text":"<ul> <li>SSH into the server with <code>ssh openmrs@_SERVER_IP_ADDRESS</code> </li> <li>First check to see if your server has internet connectivity with <code>ping github.com</code></li> <li> <p>If not try to check contents of <code>resolv.conf</code> in <code>/etc/</code> by running the following command: <code>cat /etc/resolv.conf</code></p> </li> <li> <p>Normally you should see google.com nameserver pointing to its ip <code>8.8.8.8</code>. Edit the file if name server is not configured in the file.</p> <pre><code>* `nameserver 8.8.8.8`\n\n`Ping 8.8.8.8` or `google.com`.After you may ping github.com just to make sure you are able to get packets from github.com\n</code></pre> </li> <li> <p>Then download all of the files need with <code>git clone https://github.com/eRegister/docs.git</code></p> </li> <li> <p>The command above will create a folder called <code>docs</code> in <code>/home/openmrs</code> if you didn't change to another directory. All of files that need to be transfered to the server are in docs/scripts/:</p> </li> <li> <p><code>gitpull.service</code></p> </li> <li><code>gitpull.sh</code></li> <li><code>openmrs_global_properties</code></li> <li><code>serialized objects</code></li> <li><code>symbolic_creation.sh</code></li> <li><code>visit_types.sql</code></li> </ul> <p>Note</p> <p>we started by ssh'ng into the server so the files are already in the server</p> <ul> <li>Backup facility specific configurations and configurations:          *  if you haven't already, backup your database with invoking the script that does that, that is already in your server: <code>docker exec -i openmrseregister /usr/bin/mysqldump -u root --password=password -A &gt; $HOME/latestback.sql</code> the -A tag is going to backup everything         * do <code>ls -lh</code> to see the size of <code>latestback.sql</code> it should be 200MB or more, not less.</li> </ul> <p>Caution</p> <p>PLEASE ENSURE THAT YOU HAVE BACKED UP BOTH  THE DB AND CONFIG FILES BEFORE EXECUTING THE STEPS BELOW!!!</p>"},{"location":"ereg/bahmniconfigs/#1-removing-current-container","title":"1. Removing Current Container","text":"<ul> <li>check the running container: <code>docker ps</code></li> <li>Stop the container: <code>docker stop openmrseregister</code></li> <li>Check that the container has stopped run <code>docker ps</code> and you should see an empty table</li> <li>Create a new image from the stopped container: <code>docker commit openmrseregister omrsregrepo/bahmni_base:19052020</code> [tag should be date at time of creating image]</li> <li>you can check the newly created image with* <code>docker images</code> </li> <li>Remove the container: <code>docker container rm openmrseregister</code></li> </ul>"},{"location":"ereg/bahmniconfigs/#2-creating-a-volume","title":"2. Creating a Volume","text":"<ul> <li>create development directory <code>sudo mkdir -p /development/bahmni_config_release</code></li> <li>change ownership of the new folder from <code>root</code> to <code>openmrs</code> with <code>sudo chown -R openmrs:openmrs /development</code> becuase the service is managed by openmrs user </li> <li>get into the directory with <code>cd /development/bahmni_config_release</code></li> <li>configure gitpull services</li> </ul> <p>Note</p> <p>DO NOT use <code>git clone</code></p> <ul> <li>initialise new local git repo: <code>git init</code></li> <li>if you do <code>ls -a</code> you'll see a hidden <code>.git</code> to show that indeed the folder has been intialized</li> <li>connect local repository with remote: <code>git remote add origin https://github.com/eRegister/bahmni_config_release.git</code></li> <li>download the latest commits to the repo: <code>git fetch --all</code> you should see a log of all the latest commits downloading</li> <li>now go to the home directory: <code>cd ~</code> OR <code>cd $HOME</code></li> <li>copy <code>gitpull.service</code> file: <code>sudo cp gitpull.service /etc/systemd/system/</code></li> <li>move <code>gitpull.sh</code> file: <code>sudo mv gitpull.sh /development/bahmni_config_release</code></li> <li>change directory <code>cd /development/bahmni_config_release/</code> make the script executable <code>sudo chmod +x gitpull.sh</code> and <code>sudo chown openmrs:openmrs gitpull.sh</code></li> <li>check the contents of the script with  <code>cat gitpull.sh</code> to make sure that it does <code>git fetch --all</code> and <code>git pull origin master</code></li> <li>Nagivate into <code>/etc/systemd/system/</code> and type the following commands to register gitpull service in system</li> <li><code>sudo chmod 664 gitpull.service</code></li> <li><code>sudo systemctl daemon-reload</code></li> <li><code>sudo systemctl enable gitpull.service</code> </li> </ul> <p>** Note:when the service has been registered successfully you should see created sym link in ** <code>/etc/systemd/system/default.target.wants/.</code></p>"},{"location":"ereg/bahmniconfigs/#3-configuring-cronjob-restoring-database","title":"3. Configuring cronjob &amp; Restoring database","text":"<ul> <li>configure the cronjob to trigger the service Monday 9 am</li> <li>to edit the cronjob do: <code>sudo crontab -e</code> if it's first time running the this command it'll probably ask you to choose the default text editor, please be kind enough to choose Nano as it's the easiest editor formost administrators.</li> <li> <p>configure the script to run within 2 mins just to make sure everything is running OK: </p> <pre><code>*/2 * * * * systemctl restart gitpull.service &gt;&gt; /var/log/gitpull.log2&gt;&amp;1\n</code></pre> </li> <li> <p>inside the crontab editor write: <code>* 7 * * mon systemctl restart gitpull.service &gt;&gt; /var/log/gitpull.log2&gt;&amp;1</code></p> </li> <li> <p>Go to /development/bahmni_config_release/ and check the status of cron service to see when it has executed gitpull. service, once done check the file by typing ll or ls. For some reason you may find that the service has not pulled the files from our remote repository, first thing to do is to check the status of the service if it has successfully started. If not check the status code of the service to guide you what might went wrong. The following table shows possible exit codes of the systemd service. Another possible reason it could be that you forgot to change the ownership of the development bahmni config release, check it.</p> EXIT CODE SYMBOLIC NAME DESCRIPTION 0 EXIT_SUCCESS Generic success code 1 EXIT_FAILURE Generic failure or unspecified error(try to start the development/bahmni_config_release afresh directory ) 200 EXIT_CHDIR Changing to the requested working directory failed 208 EXIT_STDIN Failed to setup standard input 209 EXIT_STDOUT Failed to set up standard out 203 EXIT_EXEC The actual process execution failed. Most likely this is caused by a missing or non-accessible executable file </li> <li> <p>Another possible reason could be that the service in unable to fetch from remote repository which is not related to systemd service,  check the logs of the service by typing <code>sudo tail -f /var/log/gitpull.log</code></p> </li> <li> <p>If gitpull service has pulled the bahmni config file then make a permanent configuration in cronjob to trigger the service every Monday 9am.</p> </li> <li>inside the crontab editor write: <code>* 7 * * mon systemctl restart gitpull.service &gt;&gt; /var/log/gitpull.log2&gt;&amp;1</code></li> <li>Now it's time to create a new container from the image we created earlier with: <code>docker run -e container_name=openmrseregister -it -d --restart always -p 443:443 -p 80:80 -p 8069:8069 -p 8000:8000 --privileged --name openmrseregister -v /development/bahmni_config_release:/development/bahmni_config_release -v openmrseregister:/openmrseregister omrsregrepo/bahmni_base:19052020 /bin/bash</code></li> <li>After the command above you should see a container called openmrseregister running</li> <li>If the container has started successfully there is no need to restore database just copy all .sql files to container root <code>./</code> and <code>symbolic_creation.sh</code> to <code>/opt/openmrs</code> into the new running container docker cp latestbackup.sql openmrseregister:/</li> <li>To get into the container do: <code>docker exec -it openmrseregister bash</code></li> <li>Change directory to <code>/development/bahmni_config</code> to check if the volume was created when starting a new container. You should see the bahmni config release files.</li> <li>Go to <code>/var/www/</code> and run: <code>sudo rm bahmni_config</code> or <code>unlink bahmni_config</code></li> <li>Type <code>sudo ln \u2013s /development/bahmni_config_release/ bahmni_config</code></li> <li>Go to <code>/opt/openmrs/</code> and make symbolic_creation executable and run it</li> <li>Start MySQL service: <code>service mysqld start</code></li> <li>Restore all sql copied sql files <code>visit_type.sql</code>,<code>patient_identifier.sql</code>,<code>openmrs_global_property.sql</code> and <code>serial object.sql</code></li> <li>Start other services <code>openmrs</code>,<code>httpd</code> and <code>bahmni-reports</code></li> <li>Browse to <code>http://IP_of_eRegister/bahmni/home</code> and check if the changes have been effected.</li> </ul>"},{"location":"ereg/bahmniconfigs/#the-video-below-is-an-attempt-to-demonstrate-the-steps-above","title":"The video below is an attempt to demonstrate the steps above:","text":""},{"location":"ereg/clientregistry/","title":"Client Register","text":"<p>....info on Lesotho's Client Register Architecture</p>"},{"location":"ereg/clinicalsearch/","title":"Clinical Search Deployment Guideline","text":"<p>Repositories to pull updates from</p> <pre><code>1. Bahmniaps_release\n2. Openmrs-module-bahmnicore-release\n3. Openmrs-module-xdssender-release\n4. Openmrs-module-dhisconnector-release\n5. Bahmni-docker\n</code></pre> <p>Updates deployment in eRegister</p> <pre><code>1. Make sure all services are running for all the mentioned repositories.NB don\u2019t git clone please\n2. Copy all downloaded omods files to /opt/openmrs/modules/\n3. For bahmni docker repo, after pulling from master branch, go to misc folder and restore global_property_15112021.sql\n4. Restart openmrs to load updated modules\n</code></pre> <p>Deployment verification</p> <p>Xdssender</p> <p>Search <code>xdssender.exportObsEndpoint</code> and verify the property  is set to <code>http://devbukanals.org/xdsrepositoryrest/openmrs/ws/rest/v1/obs</code></p> <p>Bahmni apps </p> <p>You should see the following snapshot</p> <p></p> <p>After clicking view Long. Obs button you should get the following reponse from SHR. </p> <p>DHIS connector</p> <p>Go to location mapping form , under OpenMRS location you should see long list of locations.Make configurations by testing the DHIS server, mapping the  right location in OpenMRS to DHIS2, configure the right mappings under automation form. Check that the reporting auto running scheduler is running.</p>"},{"location":"ereg/eRegister-092-Release-Notes/","title":"eRegister 092 Release Notes","text":""},{"location":"ereg/eRegister-092-Release-Notes/#eregister-release-notes","title":"eRegister Release Notes","text":"<p>Info</p> <ul> <li>eRegister is based on =&gt; 0.92</li> </ul> <p>Warning</p> <ul> <li>this beta version is going to be deployed at selected pilot facilities. </li> <li>Please report issues here: https://github.com/eRegister/bahmni_docker/issues</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-august-2023","title":"Release Notes August 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#anc","title":"ANC","text":""},{"location":"ereg/eRegister-092-Release-Notes/#anc-form-fixes-and-modifications","title":"ANC Form fixes and modifications","text":"<ul> <li>Blood pressure is moved to below EDD</li> <li>Covid 19 status has been added to the form</li> <li>High risk pregnancy options were changed to match the current ANC register</li> <li>Complications during pregnancy were changed to match current ANC register</li> <li>Parity and Gravida are now auto-filled from the previous form in the ANC form</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#mdr-tb-in-registration","title":"MDR-TB in registration","text":""},{"location":"ereg/eRegister-092-Release-Notes/#added-mdr-tb-demographics-and-household-contact","title":"Added MDR-TB-DEMOGRAPHICS and HOUSEHOLD CONTACT","text":""},{"location":"ereg/eRegister-092-Release-Notes/#direction-for-mdr-tb-section","title":"Direction for MDR-TB section","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#new-reports","title":"New Reports","text":"<ul> <li>TB-002 | TB Case Detection (Pivot)</li> <li>TB-027 | MDR TB Clients - A new MDR report</li> <li>MCH-023 | PMTCT FO (List) : New report</li> <li>MCH-024 | PMTCT FO (Pivot) : New report</li> <li>TB-028 | MDR TB Clients (Pivot) : New report</li> <li>Cervical Cancer Screening (List) : New report to include all clients screened</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#modifications","title":"Modifications","text":"<ul> <li>ART-019 | Registered ART Clients with Intakes (List) - Modified to exclude visitors</li> <li>ART-020 | Registered ART Clients with Intakes (Pivot) - Modified to exclude visitors</li> <li>ART-021 | ART Client Without Intakes (List) - Updated to exclude visitors</li> <li>TB-001 | TB Case Detection (List) : Modified to include all tb screened clients</li> <li>MCH-017 | PMTCT STAT (List) : Modified to pull all tested ANC first visits</li> <li>MCH-018 | PMTCT STAT (Pivot) : Modified to pull all tested ANC first visits</li> <li>MCH-003 | AnteNatal Care (ANC) - List : Modified to remove duplication of clients by restricting the report to only pick the latest MUAC</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#cag","title":"CAG","text":"<ul> <li>Creating Cag Module Base Code : (This is the base code from which cag module development begins to take effect)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#other","title":"Other","text":"<ul> <li>Renamed DISA parameter codes and added new LOINC code</li> <li>Remove HPV results error in cervical cancer screening form</li> <li>Reports.json : Added Cervical Cancer Screening (List)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-july-2023","title":"Release Notes July 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#tb","title":"TB","text":""},{"location":"ereg/eRegister-092-Release-Notes/#-changes-made-in-the-tb-intake-and-tb-followup-forms","title":"- Changes made in the TB intake and TB followup forms","text":"<ul> <li>CD4 count, Date of CD4 count and HIV test done were added.</li> <li>Prevention of OIs was changed to appear below HIV management instead of above</li> <li>Added other to indication for starting PrEP</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#_1","title":"eRegister 092 Release Notes","text":""},{"location":"ereg/eRegister-092-Release-Notes/#-added-vili-test-to-type-of-screening-offered-field-in-the-cervical-cancer-screening-register","title":"- Added VILI test to \"Type of screening offered\" field in the cervical cancer screening register","text":""},{"location":"ereg/eRegister-092-Release-Notes/#-added-lab-test-number-to-the-following-tb-lab-tests","title":"- Added lab test number to the following TB lab tests","text":"<ul> <li>Genexpert</li> <li>Line Probe Assay (LPA)</li> <li>Culture and DST</li> <li>X-ray and other tests</li> <li>Added lab test number to the following TB lab tests</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#pharmacy","title":"Pharmacy","text":"<ul> <li>Added DTG 10 mg, DTG 50mg, Isoniazid/Rifapentine (300/300mg) to pharmacy drugs</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#anc-config","title":"ANC Config","text":"<p>The following attributes are now auto filled from previous visits in the ANC Register</p> <ul> <li>Blood group</li> <li>Last Normal Menstrual Period</li> <li>Estimated Date of Delivery</li> <li>HIV status known before first visit</li> <li>The \"From Lesotho\" field only appears in the first visit</li> <li>The \"TT Previous Doses\" field only appears in the first ANC visit</li> <li>TB lab test no. was added to the following TB tests in the follow up form</li> <li>Phenotypic tests</li> <li>Culture and DST</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_1","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#new-reports_1","title":"New Reports","text":"<ul> <li>ART-002A | TxCurr Quarterly Test (List)</li> <li>MCH-001 | HIV Exposed Infants (HEI) - List : Excluded Under 5 information</li> <li>MCH-002 MCH-002 | HIV Exposed Infants (HEI) - Pivot : Excluded Under 5 information</li> <li>MCH-035 | ANC Data Quality Assessment || (Added the following columns to ANC Data Quality Assessment, Iron, Folate, Calcium, MUAC, Rhesus Factor, TD previous Doses, TD current Doses)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#modifications_1","title":"Modifications","text":""},{"location":"ereg/eRegister-092-Release-Notes/#modified-to-align-with-art-0012-current-on-art-detailed","title":"(Modified to align with ART-001/2 | Current on ART Detailed)","text":"<ul> <li>ART-044 | TX_CURR (List)</li> <li> <p>ART-043 | TX_CURR (Pivot)</p> </li> <li> <p>TB-002 | TB Notification (List)</p> </li> <li>TB-003 | TB Outcomes (List)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#openmrs-report","title":"Openmrs Report:","text":"<ul> <li>HTS Period Indicator Report | Exclude voided confirmatory results</li> <li>2020_ART_Current | Remove visitors from ART current</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#other_1","title":"Other","text":"<ul> <li>Added concepts source DISA and LOINC </li> <li>Added corresponding new refence terms </li> <li>Created new viral load concepts and added mappings to the new and existing concepts.</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-june-2023","title":"Release Notes June 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#_2","title":"eRegister 092 Release Notes","text":""},{"location":"ereg/eRegister-092-Release-Notes/#hivtc-visitor-config","title":"HIVTC visitor config","text":"<ul> <li>Hides the \"From(site)\" if the client is not a visitor</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#anc-autocalculate-edd","title":"ANC Autocalculate EDD","text":"<ul> <li>The system can calculate EDD in alignment with the new ANC form</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#tb_1","title":"TB","text":"<ul> <li>TB-HIV Activities: Multi-select on Prevention of OIs</li> <li>Initial phase now has outcomes, they are no longer greyed out</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#hts-testing-eligibility","title":"HTS Testing Eligibility","text":"<ul> <li>Adding multiple selection in HTS on concept Testing Eligibility, Last 12 Months</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#anc-latest-configs","title":"ANC latest configs","text":"<ul> <li>Allow future dates to be entered for subsequent visit EDD</li> <li>Remove viral load template warning message in ANC program</li> <li>LOR: Obstetric History Parity, Alive and Miscarriages are hidden by  default and appear again, when Gravida &gt; 1</li> <li>LOR: History of Past Pregnancies Hidden by default, and appears only when Gravida &gt; 1</li> <li> <p>LOR: Gynaecological History Result of Pap smear: hidden by default and only appears when \u201cEver Had Pap  smear\u201d is \u201cYES\u201d STI treated and Date STI Treated are hidden by default, but visible when  \u201cHistory of STI\u201d is \u201cYES\u201d Below Miscarriages: \u201cWhen\u201d, \u201cGestation Period\u201d and \u201cCuretage\u201d are hidden by  default, but visible when miscarriages is \"YES\"</p> </li> <li> <p>LOR: Surgical History \u201cType of surgery\u201d hidden by default and appears only when \u201cAny Surgery\u201d  is selected \u201cYES\u201d \u201cSpecify\u201d hidden by default. Visible only when \u201cOther\u201d is clicked under  \u201cType of Surgery\u201d</p> </li> <li> <p>ANC Register: Investigations and Immunizations Syphills Treatment Completed: Hidden by default, visible when \u201cReactive\u201d  is clicked</p> </li> <li> <p>ANC Register: HIV Testing Services Initial Test During this Pregnancy: visible when HIV Status before 1st  Visit is not positive, otherwise hidden Initial Test During this Pregnancy: HIV Result: Visible only when HIV  1Test Done? Is \u201cYES\u201d Initial Test During this Pregnancy: HIV Result Received: visible only  HIV Test Result are Positive or Negative, otherwise hidden Subsequent HIV Test Results: hidden by default. Visible when Known HIV  Status before 1st visit is not positive and initial test results during  this pregnancy is not positive Male Partner Involvement: HIV Status hidden by default, visible when  \u201cYES\u201d is clicked</p> </li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_2","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#modified","title":"Modified","text":""},{"location":"ereg/eRegister-092-Release-Notes/#art-reports-modified","title":"Art Reports Modified.","text":"<ul> <li>ART-001 | Current on ART Detailed (List)  - To exclude visotrs</li> <li>ART-002 | Current on ART Detailed (Pivot)  - To exclude visotrs</li> <li>ART-001 | Current on ART Detailed (List) - Corrected to exclude dead patients from the initiated section of the report</li> <li>ART-002 | Current on ART Detailed (Pivot) - Aligned with the list version</li> <li>ART-017 | Registered ART Visits with ART Consultation (List) : Includes Art Clients who had other visits other than Drug pickup and viral load visit</li> <li>ART-018 | Registered ART Visits with ART Consultation (Pivot) : Includes Art Clients who had other visits other than Drug pickup and viral load visit</li> <li>ART-043 | TX_CURR (Pivot) - Corrected to exclude dead patients from the initiated section of the report</li> <li>ART-044 | TX_CURR (List) - Aligned with the list version</li> <li>ART-061 | Pre-ART - Revise the report to pull clients retested positive and not linked to care</li> <li>ART-067 | PEADS Aging Out Analysis (Client Outcomes) - Updated to track  Q4 Sept 2022 txcurr</li> <li>ART-068 | PEADS Aging Out Analysis (Client Appointments) - Updated to track  Q4 Sept 2022 txcurr</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#hts-reports-modified","title":"HTS Reports Modified.","text":"<ul> <li>HTS-006 | Self Test Clients(List) : modified to allow the report accomodate all periods</li> <li>HTS-007 | Self Test Clients(Pivot) : A new report reports.json : addition of a new report</li> <li>Reports.json : addition of a new report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#mch-reports-modified","title":"MCH Reports Modified.","text":"<ul> <li>MCH-003 | AnteNatal Care (ANC) (List)   - This report has been optimized</li> <li>MCH-004 | AnteNatal Care (ANC) (Pivot)  - Corrected number of first ANC Visits to be equal to total trimester</li> <li>MCH-011 | Family Planning - List</li> <li>MCH-012 | Family Planning - Pivot</li> <li>MCH-029 | Registered FP Visits with FP Consultation (List)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#tb-reports-modified","title":"TB Reports Modified.","text":"<ul> <li>TB-001 | TB Case Detection (List) : Included \"Referred by(CBO/CHW)\" and \"Died before treatment\" indicators</li> <li>TB-002 | TB Notification (List) : Included \"Prophylaxis provided\" indicator</li> <li>TB-003 | TB Outcomes (List) : Added two treatment outcomes: Not Evaluated and Moved to Second line</li> <li>TB-017 | TB Prevention Therapy (Pivot) : Revised TPT pivot report</li> <li>TB-019 | TB Intakes (List) - Corrected to include intakes captured within a year of the report start date only</li> <li>TB-020 | TB Intakes (Pivot)- Aligned with the list version</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-may-2023","title":"Release Notes May 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module","title":"Clinical Module","text":"<p>----------------------------------------------------------- Tuberculosis - Intake -----------------------------------------------------------</p>"},{"location":"ereg/eRegister-092-Release-Notes/#the-following-were-added","title":"The following were added:","text":"<ul> <li>Linkage: Added country and facility: for out of the country Transfer In</li> <li>History of previous treatment: Added \"Other\" Option and \"Specify\"</li> <li>Social Behaviour Section</li> <li>Laboratory Tests: Added Culture and DST, added Test Lab no and date test was done on each Test type</li> <li>Medical History and Other Comorbidites</li> <li>Intensive care</li> </ul> <p>----------------------------------------------------------- Tuberculosis - Followup -----------------------------------------------------------</p>"},{"location":"ereg/eRegister-092-Release-Notes/#the-following-were-added_1","title":"The following were added:","text":"<ul> <li> <p>Laboratory Tests:</p> <ul> <li>Added Culture and DST</li> <li>Added Test Lab no. to Phenotypic tests</li> <li>Added date test was done on each Test type</li> </ul> </li> <li> <p>Contact Tracing</p> </li> <li>The option to allow users to multiple contact info for traced TB contacts</li> </ul> <p>----------------------------------------------------------------------- Under5 -----------------------------------------------------------------------</p> <ul> <li>Added feature to auto fill Under5 and ANC Number from first Under5 register consultation in subsequent visits</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_3","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#modified_1","title":"Modified","text":"<ul> <li>ART-003 | Missed Appointments Status Report (List)   Modified to only consider transfers out in the latest follow up form</li> <li>ART-045 | TX_CURR MMD (List) MMD missed removed</li> <li>ART-046 | TX_CURR MMD (Pivot) MMD missed removed</li> <li>TB-020 | TB Intakes (Pivot)- Aligned with the list version</li> <li>TB-019 | TB Intakes (List) - Corrected to include intakes captured within a year of the report start date only</li> <li>ART-001 | Current on ART Detailed (List) - Corrected to exclude dead patients from the initiated section of the report</li> <li>ART-002 | Current on ART Detailed (Pivot) - Aligned with the list version</li> <li>ART-043 | TX_CURR (Pivot) - Aligned with the list version</li> <li>ART-044 | TX_CURR (List) - Corrected to exclude dead patients from the initiated section of the report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#newly-added","title":"Newly added","text":"<ul> <li>ART-080 | Visitors Report (List)</li> <li>ART-081 | Visitors Report (Pivot) </li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-april-2023","title":"Release Notes April 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_1","title":"Clinical Module","text":"<p>---------------------------------------------------- HIV Treatment and Care - Follow Up -------------------------------------------</p> <ul> <li>HIV Treatment and Care module<ul> <li>new \"visitor\" field to easily identify visiting clients</li> </ul> </li> </ul> <p>---------------------------------------------------- ANC Register ----------------------------------------------------</p> <p></p> <p></p> <ul> <li>ANC Program revised to mimic the newly released ANC Register<ul> <li>Revised the whole ANC Register<ul> <li>Calcium</li> <li>Nutritional Assesment</li> <li>Sign of GBV</li> <li>Covid19</li> <li>Rhesus Factor</li> <li>Tetanus Diththeria (TD) Doses</li> </ul> </li> <li>Added new broader section \"HIV Testing Servies\"</li> <li>Clinical WHO Staging</li> <li>Referrals</li> </ul> </li> </ul> <p>------------------------------------------------------------------------- HIV Testing and Counseling ----------------------------------------------------------------</p> <ul> <li>The 'kit collected for' field is now compulsory when secondary distribution mode is selected</li> </ul> <p>--------------------------------------------------------------------------- Family Planning Register ------------------------------------------------------------------</p> <ul> <li>Follow up date added</li> <li>Multiselect on family counselling services provided enabled</li> <li>Entering future dates on IUCD/Implant check-up date enabled</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_4","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#modified_2","title":"Modified","text":"<ul> <li>TB-026 | TB Data Quality Assessment Tool - modified to:</li> <li>Include TB regimen</li> <li>Treatment outcome regardless of the report</li> <li> <p>Type of test performed</p> </li> <li> <p>ART-077 | Weekly PPR (List) : corrected to show weekly defaulters and NCLIs that came after 91 days</p> </li> <li> <p>ART-078 | Weekly PPR (Pivot): corrected to show weekly defaulters and NCLIs that came after 91 days</p> </li> <li> <p>MCH-007 | Child Health (Under5) - List - Added all the multi selected immunization</p> </li> <li> <p>ART-022 | Data Quality Assessment Tool - Viral load column to provide explicit values for VL &gt;20</p> </li> <li> <p>HTS Final Status Report - solved duplication caused by editing the form.</p> </li> <li> <p>TB-022 | Registered TB Visits with TB Consultation (List) - Modified to be more accurate</p> </li> <li> <p>TB-023 | Registered TB Visits with TB Consultation (Pivot) - Modified to be more accurate</p> </li> <li> <p>HTS-002 | HTS Final HIV Status PITC (Pivot) : Revised to exclude clients with Tested in ANC Form</p> </li> <li> <p>HTS-004 | HTS Final HIV Status CITC (Pivot) : Revised to exclude clients with Tested in ANC Form</p> </li> <li> <p>TB-026 | TB Data Quality Assessment Tool - Select client initiated during period and date transferred in for SA clients</p> </li> <li> <p>Revised Rapid HTS reports to eliminate duplication of Clients who had ANC Form consultaions (OpenMRS reports)</p> </li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#newly-added_1","title":"Newly added","text":"<ul> <li>Tb_Notification reports( Block 1,Block 2,Block 3,Block 4) (OpenMRS reports)</li> <li> <p>TB Outcome reports (Block 1 and Block 2) (OpenMRS reports)</p> </li> <li> <p>MCH-001 | HIV Exposed Infants (HEI) - List</p> </li> <li>MCH-002 | HIV Exposed Infants (HEI) - Pivot</li> <li>MCH-003 | AnteNatal Care (ANC) - List</li> <li>MCH-004 | AnteNatal Care (ANC) - Pivot</li> <li>MCH-005 | Post Natal Care (PNC) - List</li> <li>MCH-006 | Post Natal Care (PNC) - Pivot</li> <li>MCH-007 | Child Health (Under5) - List</li> <li>MCH-009 | Labour and Delivery - List</li> <li>MCH-010 | Labour and Delivery - Pivot</li> <li>MCH-011 | Family Planning - List</li> <li>MCH-012 | Family Planning - Pivot</li> <li>MCH-013 | Nutrition - List</li> <li>MCH-014 | Nutrition - Pivot</li> <li>MCH-015 | PMTCT STAT DINOMINATOR (List)</li> <li>MCH-016 | PMTCT STAT DINOMINATOR (Pivot)</li> <li>MCH-017 | PMTCT STAT (List)</li> <li>MCH-018 | PMTCT STAT (Pivot)</li> <li>MCH-019 | PMTCT EID (List)</li> <li>MCH-020 | PMTCT EID (PIVOT)</li> <li>MCH-022 | PMTCT HEI POS (Pivot)</li> <li>-</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-march-2023","title":"Release Notes March 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_5","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#modified_3","title":"Modified","text":"<ul> <li>ART-022 | Data Quality Assessment Tool - Viral load column to provide explicit values for VL &gt;20</li> <li>TB-018 | TB Intakes (List) - Changed the variable #enddate# to #endDate#</li> <li>MCH-014 | PNC SEEN (List) - Added First_PNC_Attendance, Place_of_Delivery, FP_Counselling, FP_Method, Syphilis_Screening, Cancer_Screening, Cancer_Assessment_Method,HIV_Testing_Result, Breastfeeding, MUAC_less_than_23cm</li> <li>MCH-017 | Child Health Attendance - Under5 (List) - Added Months, Base_Dose, 1st_Dose, 2nd_Dose, 3rd_Dose, Fully_Immunized, Measles_1st_Dose, Measles_2nd_Dose, Dt_1st_Dose</li> <li>HTS-001 | HTS Final HIV Status (List) - solved duplication caused by editing the form.</li> <li>ART-003 | Missed Appointments Status Report (List) - location re-added</li> <li>ART-003 | Missed Appointments Status Report (List) - Order clients by their appointment status, appointment date</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_2","title":"Clinical Module","text":"<ul> <li>Self test distribution mode is now compulsory  </li> <li>Added version date on bahmni login page  </li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-february-2023","title":"Release Notes February 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_6","title":"Reports","text":"<ul> <li>TB-025 | TB Data Quality Assessment Tool - Added prevention of IOs with the new concept</li> <li>TB-026 | TB Outcome (List) - new report. The previous report was not a list but a pivot.</li> <li>TB-001 | TB Outcomes (Pivot) - has been renamed to pivot not list</li> <li>ART-031 | TX_NEW (List) : include died in the same period</li> <li>ART-032 | TX_NEW (PIVOT) : include died in the same period</li> <li>ART-078 | PrEP NEW (List) - new report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_3","title":"Clinical Module","text":"<ul> <li>HIV Management Made Multi-Select On TB intake Form</li> <li>Labour and Delivery register: allow add more and conditions</li> <li>Txnew pivot modification and add prep new tb outcomes list to json file</li> <li>Adding the Cancer Screening Report to the reports.json file</li> <li>Fixed Prep Follow Up Form concept spelling</li> <li>Swapped OIs and HIV Management on the TB Intake form</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-january-2023","title":"Release Notes January 2023","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_7","title":"Reports","text":"<ul> <li>Added TB-025 | TB Data Quality Assessment Tool to reports json file</li> <li>MCH-014 | PNC SEEN (List) - New Report </li> <li>MCH-015 | FP SEEN ( List) - New Report </li> <li>MCH-016 | Under5 SEEN (List) - New Report</li> <li>MCH-017 | HIV Exposed Infant SEEN (List) - New Report</li> <li>Added the following patientAttributes :<ul> <li>Occupation</li> <li>Marital Status</li> <li>Extra Address Information</li> <li>Treatment Supporter/Next of Kin</li> </ul> </li> <li>Added File Number as one of the extraPatientIdentifiers</li> <li>TB-025 | TB Data Quality Assessment Tool - Correcting wrong concept_id used for TB treatment outcomes</li> <li> <p>TB-025 | TB Data Quality Assessment Tool</p> <ul> <li>Remove the last column (labelled HIV)</li> <li>Include History of Previous Treatment, just after Site</li> <li>On the Clients_on_ART column, the tool should pull results as New on ART or Already on ART not active.</li> <li>For Site, results should be Pulmonary (with correct diagnosis) or Extra Pulmonary</li> </ul> </li> <li> <p>ART-001 | Current on ART Detailed (List)</p> </li> <li>ART-002 | Current on ART Detailed (Pivot)</li> <li>ART-043 | TX_CURR (List)</li> <li>ART-042 | TX_CURR (Pivot)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_4","title":"Clinical Module","text":"<ul> <li>Correct transferred out clients were picked under missed.</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-december-2022","title":"Release Notes December 2022","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_8","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni","title":"Bahmni","text":"<ul> <li>TB-025 | TB Data Quality Assessment Tool - new report </li> <li>PHARM-004 | Registered Clients Prescribed and Dispensed (List) - New report</li> <li>PHARM-005 | Registered Clients Prescribed and Dispensed (Pivot) - New report</li> <li>PHARM-001 | Pharmacy ARV Regimen - Displays details and status of Regimens</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#openmrs","title":"Openmrs","text":"<ul> <li>A new serialized object for the fix of pitc and citc reports in openmrs (They were not picking some clients and were duplicating others)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-november-2022","title":"Release Notes November 2022","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_9","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni_1","title":"Bahmni","text":"<ul> <li>ART-001 | Current on ART Detailed (List) - Newly added ECID Identifier results in Zeros under MMD - Solved</li> <li>ART-001 | Current on ART Detailed (List) - Clients who transferred out and came back under clients_missed_28days</li> <li>MCH-005 | Ante Natal Care (ANC) (List) - Added Iron, Folate, Blood_Group</li> <li>TB-018 | TB Intakes (List) - Corrected the report to pull patients correctly</li> <li>HTS-001 | HTS Final HIV Status (List) - Eliminated some duplicates for clients who came more than twice a month</li> <li>HTS-002 | HTS Final HIV Status PITC (Pivot) - Eliminated some duplicates for clients who came more than twice a month</li> <li>TB-007 | New and Relapse Enrolled on TB - Exclude clients that are not new or relapse</li> <li>HTS-001 | HTS Final HIV Status (List) - Added service points, and also considers start &amp; endDates</li> <li>HTS-009 | HTS Data Quality Assessment Tool - Considers start and end dates</li> <li>PHARM-003 | Dispensing Summary Report -Provide labeling of medicines dispensed</li> <li>ART-036 | CXCA_SCRN (List) - Added a New Report for Cervical Cancer Screening</li> <li>MCH-004 | Ante Natal Care (ANC) (Pivot) - Added Muac and Suspected with TB Column</li> <li>PHARM-002 | Dispensing Orders report - Clients dispensed, Age, Sex, Regimen, Quantity Dispensed, Batch</li> <li>PHARM-001 | Pharmacy ARV Regimen - Displays details and status of Regimens</li> <li>PHARM-004 | Registered Clients Prescribed and Dispensed (List) - New report</li> <li>PHARM-005 | Registered Clients Prescribed and Dispensed (Pivot) - New report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-october-2022","title":"Release Notes October 2022","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_10","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni_2","title":"Bahmni","text":"<ul> <li>ART-026 | Ante Natal Care (ANC) - The report now relies on the start and end dates picked by the user, instead it picked the month and year of the end Date</li> <li>ART-026 | Ante Natal Care (ANC) - The gap between 2nd and 3rd trimester (25 weeks) is now included</li> <li>ART-026 | Ante Natal Care (ANC) - Total ANC follow up visits 2nd, 3rd and 4th now picks subsequent visits</li> <li>Added a category for MCH Reports</li> <li>TB-024 | TB Case Detection (list) - Adjusted the report number from 23 to 24 because the report above is also 23</li> <li>MCH-005 | Ante Natal Care (ANC) (List) - New Report</li> <li>TB-014 | TB Prevention Therapy (List) - consider start and end dates not month(), year()</li> <li>TB-015 | TB Prevention Therapy (Pivot) - consider start and end dates not month(), year()</li> <li>MCH-005 | Ante Natal Care (ANC) (List) - Corrected the Syphilis_Screening_Results column to distinguish Reactive and Non Reactive results</li> <li>MCH-005 | Ante Natal Care (ANC) (List) - Added Haemoglobin, HIV_Status_Known_Before_Visit, Final_HIV_Status, Subsequent_HIV_Test_Results, MUAC, Tuberculosis</li> <li>ART-087 | Weekly PPR (List) - Shows missed clients,NLICs, defaulters and initiations within a specific week</li> <li>ART-088 | Weekly PPR (Pivot) - Shows missed clients,NLICs, defaulters and initiations within a specific week</li> <li>ART-019 | Registered ART Clients with Intakes (List) - picks ART clients, using either the follow-up form or the ART Number</li> <li>ART-020 | Registered ART Clients with Intakes (Pivot) - picks ART clients, using either the follow-up form or the ART Number</li> <li>ART-021 | ART Client Without Intakes (List) - Identifies all clients who have art follow up but no intakes, regardless of whether they have art number or not</li> <li>ART-021 | ART Client Without Intakes (List) - Identifies all clients who have ART number but no intakes, regardless of whether they have ART follow-up form or not.</li> <li>ART-021 | ART Client Without Intakes (List) - Addition of the column status; aimed at classifying as to whether the clients is 'active', 'missed', 'defaulted', 'LTFU' or does not have ART follow up form</li> <li>ART-021 | ART Client Without Intakes (List) - Arranged the report in order of their status, starting with the active clients and ending with those without ART follow up form</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-september-2022","title":"Release Notes September 2022","text":"<p>Info</p> <p>Do the following to deploy the new visits on your server:</p> <ul> <li>Pull or Clone the new bahmni_docker</li> <li> <p>Restore the following files in to the database (emr):</p> <p><code>/bahmni_docker/misc/vist_types.sql</code></p> <p><code>/bahmni_docker/misc/new_vists_global_properties.sql</code></p> </li> <li> <p>Pull the new bahmni_configs</p> </li> <li>Rebuild the search index</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_11","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni_3","title":"Bahmni","text":"<ul> <li>TB_Intake report(list) - correction to pull correction patients</li> <li>ART-001 | Current on ART Detailed (List) - the report to report clients seen and missed by the end of the reporting period as missed</li> <li>ART-002 | Current on ART Detailed (Pivot) - the report to report clients seen and missed by the end of the reporting period as missed</li> <li>ART-053 | TX_CURR (Pivot) - the report to report clients seen and missed by the end of the reporting period as missed</li> <li>ART-054 | TX_CURR (List) - the report to report clients seen and missed by the end of the reporting period as missed</li> <li>ART-077 | PEADS Aging Out Analysis (Client Outcomes) - changed to track the latest cohort which is Q2 2021</li> <li>ART-078 | PEADS Aging Out Analysis (Client Appointments) - changed to track the latest cohort which is Q2 2021</li> <li>ART-059 | TX_RTT (List) - Disaggregations changed from IIT&gt; 3months to IIT3-5months and IIT6+months</li> <li>ART-060 | TX_RTT (Pivot) - Disaggregations changed from IIT&gt; 3months to IIT3-5months and IIT6+months</li> <li>ART-061 | TX_ML (List) - Disaggregations changed from IIT&gt; 3months to IIT3-5months and IIT6+months</li> <li>ART-062 | TX_ML (Pivot) - Disaggregations changed from IIT&gt; 3months to IIT3-5months and IIT6+months</li> <li>PIR-17 Tx_CURR TXML - Modified to use new disaggregation IIT3-5months, IIT6+months instead of IIT&gt;3months</li> <li>PIR-17 Tx_CURR Retention Report - Modified to use new disaggregation IIT3-5months, IIT6+months instead of IIT&gt;3months</li> <li>TB-010 | New and Relapse Enrolled on TB (List) - Added TB history, Key populations, HIV Status, Active and Defaulted Clients</li> <li>TB-011 | DSD TB_ART - Added TB history, Key populations, HIV Status, Active and Defaulted Clients</li> <li>ART-003 | Missed Appointments Status Report (List) - Arranged clients with appointment missed</li> <li>TB-022 | TB Drug Resistant (list) - New Report</li> <li>TB-003 | TB Notification (List) - New Report </li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#openmrs_1","title":"Openmrs","text":"<ul> <li>PIR-17 Tx_CURR Retention Report Mapping 2022 - Maps part of PIR-17 Tx_CURR Retention Report to Txcurr Retention and Attrition Report in DHIS2(TxRTT Section)</li> <li>PIR-17 Tx_CURR TXML_2022 - Maps PIR-17 Tx_CURR TXML Report to Txcurr Retention and Attrition Report in DHIS2(TxML Section)</li> <li>2020_ADULT ARV REGIMEN Mapping - now maps to Adult Regimen 1f (a)TDF 3TC /EFV (400mg) other months which was previously blank</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_5","title":"Clinical Module","text":"<ul> <li>New Prep Follow-Up Form</li> <li>New Prep Intake Form</li> <li>Made Under 5 Base Doses Multi-select</li> <li>Added a Reports name filter in Bahmni-Reports </li> <li>Added 'Weeks of current gestation by LMP method' to Obstetric History on ANC Program Form.</li> <li>Auto Calculate Gestational Age from LNMP on The ANC Program Form</li> <li>Visits for other services e.g., FP, Cervical Cancer Screening, Enhanced Adherence Counseling and Under5</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-august-2022","title":"Release Notes August 2022","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_12","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni_4","title":"Bahmni","text":"<ul> <li>ART-022 | Data Quality Assessment tool - was displaying a blank page</li> <li>ART-021 | ART Client Without Intakes (List) - Added more columns(ArtNumber,age,gender,location)</li> <li>HTS-006 | Self Test Clients(List) - Allow patient tested more than once in a month to appear more than once.</li> <li>TB-020  and  TB-021 - TB registration vs TB Consultation naming corrections</li> <li>TxCurr report - include clients who do not have patient identifiers and use ECID identifiers in the report</li> <li>Missed_defaulted_ltfu report - include service point in the report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_6","title":"Clinical Module","text":"<ul> <li>WHO staging made to disappear when T-staging is selected</li> <li>Hid HIVST Results for primary when Secondary is Selected</li> <li>SD Bioline is not available in most health centres at the moment so it should not be compulsory for indeterminate results</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#release-notes-july-2022","title":"Release Notes July 2022","text":""},{"location":"ereg/eRegister-092-Release-Notes/#reports_13","title":"Reports","text":""},{"location":"ereg/eRegister-092-Release-Notes/#bahmni_5","title":"Bahmni","text":"<ul> <li>Reporting age groups have been modified to include the new age groups being 50-54, 55-59,60-64,65+.</li> <li>ART-022 | Data Quality Assessment tool -  DQA Report had a bug after modification to include defaulted and lost to follow-up clients [Bug Fixed].</li> <li>ART-001 | Current on ART Detailed (List) - Modified to include clients who do not have patient identifiers and use ECID identifiers in the report.</li> <li>ART-003 | Missed Appointments Status Report (List) -  Added service point column in the report</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#openmrs_2","title":"Openmrs","text":"<ul> <li>Created new children regimen reports that categorize children by weight:<ul> <li>Children ARV Regimen_1stLine_2022</li> <li>Children ARV Regimen_2ndLine_2022</li> <li>Children ARV Regimen_3rdLine_2022</li> </ul> </li> <li>2020_TB_Screening - TB Screening previous report did not include all clients seen during period</li> <li>2020_TB_Screening - Only clients that were seen physically at the facility. PreART clients. Clients that were physically seen and screened</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#registration-module","title":"Registration Module","text":"<ul> <li>Patient name now appears above maiden name in The Registration Module</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_7","title":"Clinical Module","text":"<ul> <li>Fixed EDD Auto-Calculation</li> <li>Hid PITC Results on CACX Form if The test has not been offered</li> <li>The LPA susceptibility result is no longer compulsory because the result is not always available</li> <li>Allow future Dates for Cervical Cancer Screening Follow up Date</li> <li>Place of Delivery is Not Mandatory on ANC Form (While it remains Mandatory on the PNC Form)</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#appointments-module","title":"Appointments Module","text":"<ul> <li>Fixed Column Headings of The Appointment Module List View</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#-release-candidate-rc-1","title":"- Release Candidate (RC) #1","text":""},{"location":"ereg/eRegister-092-Release-Notes/#pharmacy-module","title":"Pharmacy Module","text":"<ul> <li>Customized core odoo addons and Bamni addons to fit Lesotho context</li> <li>Changed workflow to suite Lesotho context</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#reports_14","title":"Reports","text":"<ul> <li>Ported all Bahmni 0.90 reports to Bahmni 0.92</li> <li>Developed Informed Push Tool reports</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#automated-deployment","title":"Automated Deployment","text":"<ul> <li>Now supports auto deploying Bahmnni modules (apps), and odoo modules</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#registration-module_1","title":"Registration Module","text":"<ul> <li>National Search ported from 0.90 and improved</li> <li>Rename gender to sex</li> <li>Disabled camera and picture icon</li> <li>Other Information: change contact to phone number</li> <li>Hide PNC &amp; ANC numbers for male patients</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#clinical-module_8","title":"Clinical Module","text":"<ul> <li>Refactoring Bahmni App to align with 0.90</li> <li>Improving the flow of order automation from observation to medication tab</li> <li>Numbering on patient queue</li> <li>Pregnancy status: use gender attribute to show and hide</li> <li>Include both age and sex to the patient payload sent from bahmni to odoo</li> </ul>"},{"location":"ereg/eRegister-092-Release-Notes/#atomfeed","title":"Atomfeed","text":"<ul> <li>Atom feed to allow concepts in Bahmni to automatically be pulled in odoo</li> </ul>"},{"location":"ereg/facilityimplementationchecklist/","title":"Facility Implementation Checklist","text":"<p>Below is a checklist of things that should be done and how to do them during rollout:</p> <ol> <li> <p>Disable server laptop lid to hibernate/shutdown when lid is closed. This is done to protect the laptop's monitor and keyboard from dust and potential damage.</p> <ul> <li>edit the file <code>/etc/systemd/logind.conf</code> and change the line <code>#HandleLidSwitch=hibernate</code> to <code>HandleLidSwitch=ignore</code>. Don't forget to uncomment the line by removing <code>#</code></li> </ul> </li> <li> <p>Configure automated reporting to DHIS2 (Training Instance)</p> <ul> <li>...CONTENT LOADING....</li> </ul> </li> <li> <p>Configure Services to Start When the Server Boots</p> <ul> <li>...CONTENT LOADING....</li> </ul> </li> <li> <p>Configure static IP address</p> <ul> <li>...CONTENT LOADING....</li> <li>....more content loading......</li> </ul> </li> <li> <p>Changing the login name of eRegister</p> <p>ssh in to the server with <code>ssh openmrs@IPADDRESS</code> and then get into the running container with <code>sudo docker exec -it openmrseregister bash</code> then <code>vi /var/www/bahmniapps/i18n/home/locale_en.json</code> and then look for <code>LOGIN_PAGE_HEADER_TEXT</code> variable and change it accordingly.</p> </li> <li> <p>Create usernames for all health facility staff</p> <ul> <li>browse to IPADDRESS/openmrs and login</li> <li>when logged in, go to Administration -&gt; Manage Users -&gt; Add User. Don't forget to search for the user's account before adding a new user account</li> <li>check on appropriate roles</li> </ul> </li> <li> <p>Enabled appropriate \"locations\" for login into the system</p> <ul> <li>ssh in to the server with <code>ssh openmrs@IPADDRESS</code> and then get into the running container with <code>sudo docker exec -it openmrseregister bash</code> then <code>vi /var/www/bahmniapps/i18n/home/locale_en.json</code> and then <code>mysql -u root -p</code> enter password when prompted, then <code>use openmrs</code> and then run this query to see all location for your site. For example if you're in Lithipeng Health Center you can run <code>select location_id, name, description, retired from location where description like '%lithipeng%'</code>  and then you'll something like this:</li> </ul> <p>+---------------+-----------------+--------------+------------+ |   location_id | name            | description  |    retired | +---------------+-----------------+--------------+------------+ |           554 | Lithipeng HC    | Lithipeng HC |          1 | |           555 | ART/TB Clinic   | Lithipeng HC |          1 | |           556 | MCH Clinic      | Lithipeng HC |          1 | |           557 | HTS General OPD | Lithipeng HC |          1 | +---------------+-----------------+--------------+------------+  </p> <p>4 rows in set (0.00 sec)</p> <p>Then update retired to be 0 with <code>update set location retired=0 where location_id=554 AND location_id=555 AND location_id=556 AND location_id=557;</code></p> <p>NB: Creation of locations is managed centrally and your role is just to enable/disable locations so that we mantain identical schemas of the database across all health facilities in the country. This will help in making Health Information Exchange easy. </p> </li> <li> <p>Automated Backups</p> <ul> <li>...CONTENT LOADING....</li> </ul> </li> <li> <p>Blocking The Following Social Media Sites on the Wi-Fi router:</p> <ul> <li>whatsapp.com</li> <li>facebook.com</li> <li>youtube.com</li> <li>instagram.com</li> <li>tiktok.com</li> <li>twitter.com Browse to http://192.168.8.1 and login, then go to Settings -&gt; Security -&gt; Domain Name Filter, make sure the Blacklist radio button is selected, then Add the domains. Don't forget to change status to \"on\". </li> </ul> <p>NB: Make sure \"Enable Domain Name Filter\" is enabled in here Settings -&gt; Firewall Switch</p> </li> </ol>"},{"location":"ereg/intro/","title":"eRegister Installation Manual","text":"<p>Warning</p> <ul> <li>this guide is for Bahmni eRegister 0.90. For version 0.92, please refer to guide here</li> </ul> <p>This document attempts to standardize how we prepare our servers to be ready for deployment at health facilities.</p> <p>Before we follow the steps on how to prepare the server, we first have to install Ubuntu Server 18.04 LTS from Ubuntu Site</p>"},{"location":"ereg/intro/#installing-docker","title":"Installing Docker","text":"<ul> <li>To install Docker, please follow the instructions detailed in https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04 </li> </ul> <p>these instructions above were written for Ubuntu 16 but work perfectly for Ubuntu 18</p>"},{"location":"ereg/intro/#pulling-the-docker-image-and-running-it-as-a-container","title":"Pulling the docker image and running it as a container","text":"<ul> <li>In situations of poor internet connectivity where we're committing and sharing images using sneakernet, please follow the guide in here</li> <li>To pull the docker, it's not necessary to login from the terminal, just run the following: <code>docker pull omrsregrepo/bahmni_base:25012020_release</code></li> <li>After the image has been pulled you should be able to see it when you do <code>docker images</code></li> <li>A container is a running instance of an image. The last step is to run our image to make container with <code>docker run -e container_name=openmrseregister -it -d --restart always -p 443:443 -p 80:80 -p 8069:8069 -p 8000:8000 --privileged --name openmrseregister -v openmrseregister:/openmrseregister omrsregrepo/bahmni_base:25012020_release /bin/bash</code></li> <li>To check that indeed we have a container running, you can do <code>docker ps</code>. </li> <li>Navigate into the container using the command,<code>docker exec -it openmrseregister bash</code></li> <li>Once you have landed into the container, make sure that you're in the / directory and then start mysqld service with <code>services mysqld start</code>, login to a database without a password and then run the command below:</li> <li><code>source openmrs.sql</code></li> <li>After running the command above, do <code>use openmrs</code> and then do <code>source OpenMRS_Start_up_Schema_V1.sql</code></li> </ul>"},{"location":"ereg/intro/#starting-services","title":"Starting Services","text":"<p>Often times, we're going to encounter situations where a container is running but the services inside the container are not, to start your services running the following commands in this order:</p> <ul> <li><code>service httpd start</code></li> <li><code>service mysqld start</code></li> <li><code>service openmrs start</code></li> <li><code>service bahmni-reports start</code></li> </ul> <p>Now you should be able to see eRegister when you browse to http://server_IP/bahmni/home. you'll use the IP address of your server </p>"},{"location":"ereg/intro/#enablingdisabling-locations","title":"Enabling/Disabling Locations","text":"<p>Depending on the health facility where the server will be deployed, we'll have to either enable or disable locations in the database. To do all of these, it is highly recommended that we run all of our sql queries through phpMyAdmin and shy away from using CLI. Browse to http://192.168.8.10/mydb and use the following credentials. remember to use your IP address</p> <ul> <li>username: </li> <li>password: </li> </ul> <p>On the left pane, you'll see a list of databases, click on <code>openmrs</code>. All of the locations are managed by a <code>location</code> table. If for example you're in Motebang Hospital, to see all of the locations for Motebang Hospital, run the following query: </p> <p><code>SELECT location_id, name, retired FROM location WHERE name LIKE '%mote%'</code></p> <p><code>1</code> is for when retired is <code>TRUE</code> and <code>0</code> is when retired is <code>FALSE</code>. To enable locations we have to set retired to <code>0</code>.   * So it will be done with the following <code>UPDATE</code> query: <code>UPDATE location SET retired = 0,  WHERE location_id=121;</code> to enable <code>Motebang Hospital</code>  * So it will be done with the following <code>UPDATE</code> query: <code>UPDATE location SET retired = 0,  WHERE location_id=122;</code> to enable <code>ART Corner Motebang Hospital</code> * ...and so on and so fourth...</p> <p>## Configuring Backup CONTENT LOADING....</p>"},{"location":"ereg/odooreports/","title":"Odoo Reports Pipeline","text":"<p>Warning</p> <ul> <li>Content coming soon...</li> </ul>"},{"location":"ereg/reppull/","title":"Reppull","text":""},{"location":"ereg/reppull/#automated-pulling-of-latest-changes-from-github-repo","title":"Automated Pulling of Latest Changes from GitHub Repo","text":"<ul> <li>Get into the container by running <code>docker exec -it openmrseregister bash</code>. In the container, you'll land in <code>/</code> directory</li> <li> <p>If it's not already there, create a folder in the root <code>/</code> directory with the following command:</p> <p><code>mkdir -p scripts</code></p> <p>NB: you don't need to do <code>sudo</code> because we're already logged into the container as <code>root</code></p> </li> <li> <p>Change directory into the <code>scripts</code> folder with <code>cd /scripts</code></p> </li> <li>Do <code>pwd</code> to make sure you're in <code>/scripts</code> folder</li> <li>Download the <code>git_sync_branch.sh</code> script by running <code>wget https://raw.githubusercontent.com/eRegister/scripts/master/git_sync_branch.sh</code></li> <li>When you run <code>ls</code> you should now see the script. </li> <li>Make the script executable by running <code>chmod +x git_sync_branch.sh</code></li> <li>You can test that the script is running fine by doing <code>bash -v git_sync_branch.sh</code></li> <li>Now let's exit the container with <code>Exit</code></li> <li>Now that you're outside the containder, change directory to <code>/usr/local/bin/</code></li> <li>In the <code>/usr/local/bin/</code> directory create a new file with sudo <code>touch remote_git_sync_branch.sh</code></li> <li>Open the <code>remote_git_sync_branch.sh</code> file with <code>sudo vi remote_git_sync_branch.sh</code> </li> <li> <p>Add the following lines in <code>remote_git_sync_branch.sh</code></p> <p>#!/usr/bin/env bash   docker exec -i openmrseregister sh /scripts/git_sync_branch.sh</p> </li> <li> <p>Configure a cronjob to run the script everyday at 10:00am or anytime suiting, based on the facility's needs</p> <ul> <li><code>crontab -e</code> if it's the first that command is bieng run, it'll probably prompt you to choose your preferred editor. I recommend nano because of its shallow learning curve. </li> <li>Then add this line: <code>0 10 * * * /usr/local/bin/remote_git_sync_branch.sh</code></li> </ul> </li> <li>Then lastly add a service to handle running this script<ul> <li>Change directory to <code>/etc/systemd/system/</code></li> <li>Create the file with <code>sudo touch git_sync_branch.service</code></li> <li>Open the file with <code>sudo vi git_sync_branch.service</code></li> <li> <p>Add the following inside the <code>git_sync_branch.service</code> file</p> <p><code>[Unit]</code></p> <p><code>After=docker.service</code></p> <p><code>[Service]</code></p> <p><code>ExecStart=/usr/local/bin/remote_git_sync_branch.sh</code></p> <p><code>Restart=always</code></p> <p><code>[Install]</code></p> <p><code>WantedBy=default.target</code></p> </li> </ul> </li> </ul>"},{"location":"ereg/upgrading-to-092/","title":"Upgrading to Bahmni 0.92","text":""},{"location":"ereg/upgrading-to-092/#preparing-bahmni-090-backup","title":"Preparing Bahmni 0.90 Backup","text":"<ul> <li>First we have to take a proper backup of the system so that should the upgrade process be problematic, we have can resume facility activities with ease.  We can start by taking a backup of the database with <code>docker exec -it openmrseregister mysqldump -uroot -p openmrs &gt; openmrs.sql</code>. This command will create the backup inside the container but put the sql file outside the container.</li> <li>Then we can commit the running container to take a snapshot of it as is with <code>docker commit openmrseregister omrsregrepo/bahmni_092:18052021</code> you can use whatever date when doing this for your tag </li> <li>Before moving forward with the steps below, please make sure you have both the sql file and the docker image with <code>ls -lh</code>. The file openmrs.sql should be more than 100M, if in doubt, you can do <code>cat openmrs.sql</code> to see the file has content. Also do <code>docker images</code> and make sure you can see the image you just created.</li> <li>To prevent conflicting ports, we have to finally stop and kill the container with <code>docker stop openmrseregister</code> and remove it completely with <code>docker rm openmrseregister</code></li> </ul> <p>Warning</p> <ul> <li>Please don't skip this step. It's very important to do the backup before upgrading!!!</li> </ul>"},{"location":"ereg/upgrading-to-092/#installing-docker","title":"Installing Docker","text":"<p>The hosting should already have docker installed, but if for some reason it's not installed, please refer to this guide</p> <p>Please go as far as installing docker only and then come back to this guide.</p>"},{"location":"ereg/upgrading-to-092/#installing-docker-compose","title":"Installing Docker Compose","text":"<p>To upgrade to version 0.92, we're going to use Docker Compose we're using more than one container. To install Docker Compose, copy and run the following:</p> <pre><code>sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n</code></pre> <p>Then make the binary file you just downloaded executable with the command below (copy and paste)</p> <pre><code>sudo chmod +x /usr/local/bin/docker-compose\n</code></pre> <p>Check that everything is running well by running <code>docker-compose version</code> and you'll see something like this: </p> <pre><code>docker-compose version 1.28.2, build 67630359\ndocker-py version: 4.4.1\nCPython version: 3.7.9\nOpenSSL version: OpenSSL 1.1.0l  10 Sep 2019\n</code></pre> <p>If you don't see anything, you might want to do <code>su $USER</code> to reload enviroment variables then do <code>docker-compose version</code> again.</p>"},{"location":"ereg/upgrading-to-092/#installing-git","title":"Installing Git","text":"<p>Do <code>git version</code> to check if Git is already installed. If it's not, run <code>sudo apt install git</code></p>"},{"location":"ereg/upgrading-to-092/#setting-up-containers","title":"Setting up containers","text":"<p><sub>Fig 1 - eRegister Bahmni 0.92 Diagram</sub></p>"},{"location":"ereg/upgrading-to-092/#preparing-containers","title":"Preparing containers","text":"<ul> <li>Go to home directory with <code>cd ~</code></li> <li>Download the repo with docker-compose file: <code>git clone  https://github.com/eRegister/bahmni_docker.git</code></li> <li>Change directory into docker_docker folder with <code>cd docker_docker</code></li> <li>Start the containers with <code>docker-compose up -d</code><ul> <li>make sure you have internet connectivity because docker-compose is going to try do download the images to your serve</li> </ul> </li> <li>After running the command abover, While still in $HOME/docker_docker, run <code>docker-compose ps</code> to check if the containers without any errors. You should see something like:</li> </ul> <pre><code>           Name                          Command               State                                                              Ports                                                           \n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nbahmni_docker_emr-service_1   /usr/sbin/init /usr/sbin/i ...   Up      0.0.0.0:33062-&gt;3306/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:8050-&gt;8050/tcp, 8053/tcp\nbahmni_docker_erp-service_1   /usr/sbin/init /usr/sbin/i ...   Up      0.0.0.0:8069-&gt;8069/tcp \n</code></pre> <ul> <li>The above output is also important as it shows names of the two containers created. Now we need to restore out backup into the new instance we just created by:<ul> <li>copying <code>openmrs.sql</code> into the <code>bahmni_docker_emr-service_1</code> with <code>docker cp $HOME/openmrs.sql bahmni_docker_emr-service_1:/</code></li> <li>get into the <code>bahmni_docker_emr-service_1</code> container with <code>docker exec -it bahmni_docker_emr-service_1 bash</code></li> <li>run <code>ls</code> and you should see <code>openmrs.sql</code></li> <li>get into the MySQL database with <code>mysql -u root -p</code> then enter password</li> <li>run <code>show databases</code> and you should see a list all databases which include a database called <code>openmrs</code>.</li> <li>delete the <code>openmrs</code> database with <code>drop database openmrs</code></li> <li>recreate the database again with <code>create database openmrs</code></li> <li>get into the database with <code>use openmrs</code>. Before running the command below, make sure you're in the (blank) openmrs database by running <code>select database()</code> and you will see a small table that confirms that indeed you're in the openmrs database.</li> <li>restore the backup with <code>source openmrs.sql</code></li> </ul> </li> <li>Then run <code>bahmni -ilocal start</code> to start services and daemons that Bahmni depend on.</li> <li>Go to <code>/var/www/</code> and run: <ul> <li>sudo <code>rm bahmniapps</code> or <code>unlink bahmniapps</code></li> <li>do <code>sudo ln \u2013s /development/bahmni_apps_release/ bahmniapps</code></li> <li>do <code>sudo ln \u2013s /development/bahmni_config092/ bahmni_config_</code> Browse to http://IP_of_eRegister/bahmni/home and check if the changes have been effected.</li> </ul> </li> <li>Check that the system is running by browsing to http://SERVER_IP and you should see the new Bhamni 092 system as shown below:</li> <li></li> </ul> <p> <sub>Fig 2 - eRegister Bahmni 0.92 After Upgrade</sub></p>"},{"location":"ereg/upgrading-to-092/#configuring-automated-deployment","title":"Configuring Automated Deployment","text":""},{"location":"ereg/upgrading-to-092/#0-preparatory-steps","title":"0. PREPARATORY STEPS","text":"<ul> <li>SSH into the server with ssh <code>openmrs@_SERVER_IP_ADDRESS</code> First check to see if your server has internet connectivity with ping github.com Then download all of the files need with <code>git clone https://github.com/eRegister/docs.git</code> The command above will create a folder called docs in /home/openmrs if you didn't change to another directory. All of files that need to be transferred to the server are in docs/scripts/:<ul> <li><code>gitpull_bahmniapps.service</code></li> <li><code>gitpull_bahmniapps.sh</code></li> <li><code>openmrs_global_properties</code></li> <li><code>serialized objects</code></li> <li><code>symbolic_creation.sh</code></li> <li><code>Visit_types.sql</code></li> <li>etc.</li> </ul> </li> </ul>"},{"location":"ereg/upgrading-to-092/#1-creating-a-volume","title":"1. CREATING A VOLUME","text":"<ul> <li>create development_emr directory <code>sudo mkdir -p /development_emr/bahmni_apps_release</code></li> <li>change ownership of the new folder from root to openmrs with <code>sudo chown -R openmrs:openmrs /development_emr</code> because the service is managed by <code>openmrs</code> user get into the directory with <code>cd /development_emr/bahmni_apps_release</code></li> </ul>"},{"location":"ereg/upgrading-to-092/#2-configure-bahmniapps-services","title":"2. CONFIGURE BAHMNIAPPS SERVICES","text":"<ul> <li>initialise new local git repo: <code>git init</code> (Do not use git clone)</li> <li>if you do <code>ls -a</code> you'll see a hidden <code>.git</code> to show that indeed the folder has been intialized</li> <li>connect local repository with remote: <code>git remote add origin https://github.com/eRegister/bahmniapps092beta.git</code></li> <li>download the latest commits to the repo: <code>git fetch --all</code> you should see a log of all the latest commits downloading</li> <li>now go to the home directory: <code>cd ~</code> OR <code>cd $HOME</code></li> <li>copy gitpull_bahmniapps.service file: <code>sudo cp gitpull_bahmniapps.service /etc/systemd/system/</code></li> <li>move gitpull_bahmniapps.sh file: <code>sudo mv gitpull_bahmniapps.sh /development_emr/bahmni_apps_release</code></li> <li>change directory <code>cd /development_emr/bahmni_apps_release/</code> make the script executable <code>sudo chmod +x gitpull_bahmniapps.sh</code> and <code>cat</code> </li> <li>check the contents of the script with <code>cat gitpull.sh</code> to make sure that it does <code>git fetch --all</code> and <code>git pull origin autobuildmaster</code></li> <li>Nagivate into <code>/etc/systemd/system/</code> and type the following commands to register gitpull service in system<ul> <li><code>sudo chmod 664 gitpull_bahmniapps.service</code></li> <li><code>sudo systemctl daemon-reload</code></li> <li><code>sudo systemctl enable gitpull_bahmniapps.service</code></li> </ul> </li> </ul> <p>Note</p> <p>when the service has been registered successfully you should see created sym link in <code>/etc/systemd/system/defacat ult.target.wants/.</code></p>"},{"location":"ereg/upgrading-to-092/#3-configuring-cronjob","title":"3. CONFIGURING CRONJOB","text":"<ul> <li>configure the cronjob to trigger the service Monday 9 am</li> <li>to edit the cronjob do: <code>sudo crontab -e</code> <ul> <li>if it's the first time running this command it'll probably ask you to choose the default text editor, please be kind enough to choose Nano as it's the easiest editor for most administrators.</li> </ul> </li> <li>configure the script to run within 2 mins just to make sure everything is running OK:</li> </ul> <pre><code>*/2 * * * * systemctl restart gitpull_bahmniapps.service &gt;&gt; /var/log/gitpull_bahmniapps.log2&gt;&amp;\n</code></pre> <ul> <li>inside the crontab editor write:</li> </ul> <pre><code>* 7 * * mon systemctl restart gitpull_bahmniapps.service &gt;&gt; /var/log/gitpull_bahmniapps.log2&gt;&amp;1\n</code></pre> <ul> <li>Go to <code>/development_emr/bahmni_apps_release/</code> and check the status of cron service to see when it has executed gitpull_bahmniapps service, once done check the file by typing ll or ls. For some reason you may find that the service has not pulled the files from our remote repository, first thing to do is to check the status of the service if it has successfully started. If not, check the status code of the service to guide you what might gone wrong. The following table shows possible exit codes of the systemd service. Another possible reason it could be that you forgot to change the ownership of the development bahmni config release, check it.</li> <li>Another possible reason could be that the service in unable to fetch from remote repository which is not related to systemd service, check the logs of the service by typing <code>sudo tail -f /var/log/gitpull_bahmniapps.log</code></li> <li>If gitpull service has pulled the bahmni config file then make a permanent configuration in cronjob to trigger the service every Monday 9am.</li> <li>inside the crontab editor write:</li> </ul> <pre><code>* 7 * * mon systemctl restart gitpull.service &gt;&gt; /var/log/gitpull.log2&gt;&amp;1\n</code></pre>"},{"location":"ereg/upgrading-to-092/#configuring-versionjson","title":"Configuring version.json","text":"<p>Navigate to bahmniapps folder with: <code>cd /var/www/bahmniapps/home</code></p> <p>And then do <code>sudo ln -s /development/bahmni_config092/version.json version.json</code></p>"},{"location":"ereg/workingwithdockerlocally/","title":"Working with Docker Images Locally","text":""},{"location":"ereg/workingwithdockerlocally/#committing-a-container-locally","title":"Committing a Container locally","text":"<p>Alternatively, we can package all of the changes done on a running container locally by like so: * First verify the name of your running container with <code>docker ps</code> and then, * Commit all of the changes in a running container with <code>docker commit d76b19479a2f omrsregrepo/bahmni_base:24102019</code> we normally use the date of committing a container as a tag * <code>docker save bahmni_base:24102019 | gzip &gt; bahmni_base_24102019.tar.gz</code> * The newly created tarball can be shared via USB stick and loaded with <code>docker load &lt; bahmni_base_24102019.tar.gz</code> * You should now see your newly loaded image when do <code>docker images</code></p>"},{"location":"informedpush/informedpush/","title":"Informed Push","text":"<p>....Information for Informed Push Dataset</p>"},{"location":"informedpush/informedpusharv/","title":"Informed Push ARV","text":"<p>....Information for Informed Push ARV Dataset</p>"},{"location":"lis/configuration/","title":"eRegister/LIS Configuration Manual","text":"<p>CONTENT LOADING....</p>"},{"location":"odoo/Accounting/","title":"Accounting","text":""},{"location":"odoo/Accounting/#accounting-module","title":"Accounting Module","text":"<p>This module has SALES and PURCHASES menus for Pharmacy </p>"},{"location":"odoo/Accounting/#sales","title":"Sales","text":"<p>Sales outlines the following sub-menus; * Customer Invoices * Sales Receipts * Customers * Sales Receipts * Sellable Products</p>"},{"location":"odoo/Accounting/#purchases","title":"Purchases","text":"<p>Purchases outlines the following sub-menus; * Vendor Bills * Purchase Receipts * Vendors * Purchasable Products</p>"},{"location":"odoo/Dispensary/","title":"Dispensary","text":""},{"location":"odoo/Dispensary/#dispensing-module","title":"Dispensing Module","text":"<p>Dashboard: Dispensing Menu and Invoicing Menu </p>"},{"location":"odoo/Dispensary/#dispensing","title":"Dispensing","text":"<p>Dispensing sub-menus;</p>"},{"location":"odoo/Dispensary/#clients","title":"Clients","text":"<ul> <li>all frontend changes done related to Odoo Customers, renamed to Clients</li> </ul>"},{"location":"odoo/Dispensary/#prescriptions","title":"Prescriptions","text":"<ul> <li>all frontend changes done related to Odoo Quotations, renamed to Prescription</li> </ul>"},{"location":"odoo/Dispensary/#dispensing-orders","title":"Dispensing Orders","text":"<ul> <li>all frontend changes done related to Odoo Sales Orders, renamed to Dispensing Orders</li> </ul>"},{"location":"odoo/Dispensary/#products","title":"Products","text":"<ul> <li>all frontend changes done related to Odoo Products</li> </ul>"},{"location":"odoo/Dispensary/#dispensing-updates","title":"Dispensing Updates","text":"<ul> <li>Top Menu item (Sales) changed to Dispensing </li> <li>Left Menu item under \u201cDashboard\u201d (Sales) changed to Dispensing </li> <li>Left Menu item under \u201cDispensing\u201d (Customers) changed to Clients</li> <li>Left Menu item under \u201cDispensing\u201d (Quotations) changed to Prescriptions </li> <li>Left Menu item under \u201cDispensing\u201d (Sales Orders) changed to Dispensing Orders </li> <li>Left Menu item under \u201cConfiguration\u201d (Shop) changed to Dispensary </li> <li>Confirm Sale button changed to confirm dispensing</li> <li>_Inside Prescriptions: New modified fields { <code>Prescription number</code>, <code>Prescription Date</code>, <code>Client, Dispensary</code>, <code>Pharmacy Staff</code>, <code>Provider name</code>, <code>Service Point and Status</code> }</li> <li>Inside Each Prescription: Locations changed to Pharmacy Locations, removal of Tax and other associated Costs</li> <li>Inside Dispensing Orders: New modified fields { <code>Prescription number</code>, <code>Prescription Date</code>, <code>Client</code>, <code>Pharmacy Staff</code>}, sales buttons changed to Dispense and new medical kit icon</li> <li>_Files Changed: <code>Odoo_addons/sale/views/sale_views.xml</code>, <code>Odoo_addons/base/views/res_partner_view.xml</code>, <code>Bahmni_addons/views/sale/views/sales_order_views.xml</code> </li> </ul>"},{"location":"odoo/Dispensary/#invoicing","title":"Invoicing","text":"<p>Invoicing sub-menus; * ###### Sales to Invoice     * all frontend changes done related to Sales to Invoice</p>"},{"location":"odoo/Dispensary/#orders-to-upsell","title":"Orders to Upsell","text":"<ul> <li>all frontend changes done related to Orders to Upsell</li> </ul>"},{"location":"odoo/Overview/","title":"Overview","text":"<p>Modules with notable updates: Sales, Purchases  Modules without notable updates: Point Of Sale, Inventory, Accounting</p> <ul> <li>Odoo UI changes are stored on the two sub-repositories on eRegister repository namely: bahmni_addons and odoo_addons.</li> <li>Bahmni_addons simlink creation must point to the directory: opt/bahmni-erp/bahmni-addons</li> <li>Odoo_addons simlink creation must point to the directory: opt/bahmni-erp/odoo/addons</li> <li>After creation of Sim links: \u201csystemctl restart odoo.service\u201d command updates the UI accordingly.</li> </ul>"},{"location":"odoo/Requisition/","title":"Requisition","text":"<p>Top Menu item (Purchases) changed to Requisitions Left Menu item under \u201cDashboard\u201d (Sales) changed to Product Requisitions Left Menu item under \u201cProduct Requisitions\u201d changed to Clients Request for product(s) Left Menu item under \u201cRequest for product(s)\u201d changed to Requisition Orders Files Changed: Odoo_addons/views/purchase_views.xml</p>"}]}